
<!-- saved from url=(0011)about:blank -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body style="display: none;">
<div id="layout-root" style="width: 100%; min-height: 925px; overflow: hidden;">
<div id="layout-root-pllist"><div class="f-wraper" id="layout-base" style="position: relative; width: 100%; z-index: 20;">
    <div class="f-wrap bl-wrap" id="layout-base-pllist" data-box="init-view" style="min-height: 919px;"><div id="layout-base-mask" style="position: absolute; top: 0px; display: none; opacity: 0; width: 100%; z-index: 99; background-color: rgba(0, 0, 0, 0.298039); height: 100%; overflow: hidden;"></div>

<!--第一列start-->
  <header id="pl-navigation" class="bl-header bl-usr-header" style="display: block; z-index: 60;">
    <div class="usr-header-box clearfix">
      <a href="http://blog.sina.cn/"><span class="bl-sinalogo"></span></a>
      <a class="bl-prsn usr-info-tips" href="javascript:;"><span trace-code="38_01_56" data-role="user" class="usercnt b-ft-icon">.</span><i data-role="redtips" style="display:none;" class="bn-redtips"></i></a>
      <div style="display:none;" data-role="logo" class="blog-logo"></div>
      <div style="" data-role="info" class="user-sort">
        <a trace-code="38_01_71" data-role="list-button" class="b-txt2" href="http://blog.sina.cn/dpool/blog/u/#type=-1"><span data-role="title" class="blog-nm b-ellipsis">金融后半生</span></a>
      </div>
    </div>
    <div style="display: none; position: absolute; z-index: 4; background: transparent none repeat scroll 0% 0%; width: 1366px; height: 422px; top: 0px; left: 0px;" data-role="link-mask"></div>
    <div style="display:none;" data-role="link-box" class="l-blg-sort">
      <div class="blg-sort" data-role="link-panel" style="overflow-y: auto;"></div>
    </div>
  </header><div id="layout-content">
<div id="layout-content-pllist" style="overflow-y: hidden; height: auto;">
<div class="bl-article bl-article-new" id="pl-blog-article">
    <!-- 返回顶部 -->
    <div id="j_toTop" class="j_topBtn" data-role="j_toTop" style=" z-index:999; position: fixed;right: 10px;bottom: 65px; width: 42px;height: 42px;text-align: center;font-size: 28px;z-index: 500;border-radius: 50%;background: rgba(0,0,0,.6);color: #fff; display: none;">
        <span class="icon_top_1"><img src="http://img.mjs.sinajs.cn/blog/ria/h5/v2/images/top.png" style="margin-top: 6px;"></span>
    </div>
    <!-- 返回顶部 -->
    <!-- <div data-role="sax-wrap-articletop" style="display:none;"></div> -->
    <!-- 文章主体 第一屏 -->
    <!-- 广告 -->
    <!--
    <div class="bl-art-yy top-yy b-ellipsis"  data-role="blog-atop-ad"><span class="b-ft-icon b-txt2">\</span><a class="b-txt2" style="height:2.64em"><textarea data-type="ad-scripts" style="display:none">
                </textarea></a></div>
    -->
    
    <article class="article" pagecount="2" data-blogid="672711780100vshv" data-pubdate="2011-11-16 14:43:50" data-role="article">
        <h1>jmx远程访问关键设置</h1>
        <div class="b-txt3 read-time">
            <span class="time">2011-11-16 14:43</span><span class="reads">阅读：<span data-role="read-num"></span></span>
        </div>
        <div class="content b-txt1">
                        最近折腾jmx，部署在linux上，想本地通过隧道远程访问，结果半天没搞定。<br>
有一些设置小技巧，否则将无法连接<br>
<a name="jmx远程访问关键设置-1、java程序启动参数："></a>1、java程序启动参数：
a、一定要记住，要设成localhost，不要指定ip设置。<br>
b、如果已经使用程序开发了jmx agent，不要在启动参数中设置registry port，如：<br>
-Dcom.sun.management.jmxremote.port=9400<br>
真正需要的<br>
-Djava.rmi.server.hostname=localhost<br>
-Dcom.sun.management.jmxremote<br>
-Dcom.sun.management.jmxremote.ssl=false<br>
-Dcom.sun.management.jmxremote.authenticate=false<br>
<a name="jmx远程访问关键设置-2、javajmxserver中exportport，registryport都要指定，并且相同："></a>2、java
jmx server中export port，registry port都要指定，并且相同：
格式：service:jmx:rmi://{jmx.host}:{jmx.export-port}/jndi/rmi://{jmx.host}:{jmx.registry-port}/jmxrmi<br>

实例：service:jmx:rmi://192.168.50.115:9400/jndi/rmi://192.168.50.115:9400/jmxrmi<br>

<a name="jmx远程访问关键设置-3、隧道设置时，本地端口与远程端口要一致"></a>3、隧道设置时，本地端口与远程端口要一致
如远程端口是9400，则设本地9400，监听远端的9400<br>
9400:192.168.50.115:9400<br>
<a name="jmx远程访问关键设置-4、通过隧道访问的jmx地址"></a>4、通过隧道访问的jmx地址
如果是通过隧道本地访问远端，访问地址的host要用127.        </div>
    </article>
    <!-- 余下全文 -->
    <div class="item_hide">0.0.1，不要缺省或用localhost或本地真实ip<br>
service:jmx:rmi:///jndi/rmi://127.0.0.1:9400/jmxrmi<br>
<a name="jmx远程访问关键设置-5、其他"></a>5、其他
a、linux防火墙开通端口，由于服务器上的防火墙是关闭的，没做这个测试，理论上要在iptables中设置开通端口访问<br>
b、jmx所在linux服务器上的/etc/hosts中第一行设置为127.0.0.1问题，传说第一行不能为127.0.0.1，要改成真实ip<br></div>
    <!-- 广告 -->
    <div class="bl-operation">
        
        <!--分享上方信息流01-->
        <div data-role="sax-wrap-1" style="display:none;"></div>
        
        <!--分享上方信息流02-->
       <div data-role="sax-wrap-2" style="line-height:2.0em;font-size:.875em;white-space:nowrap; margin:0 1.071em;background-color:#fff;border:1px solid #EAEAEA;padding-left:14px;padding-top:13px;">
        <textarea data-type="ad-scripts" style="display:none">        &lt;img src="http://sax.sina.com.cn/view?type=nonstd&amp;t=REowMDAxNDU4Ng%3D%3D?p=1486199483"&gt;
        %3Cscript%20type%3D%22text%2Fjavascript%22%20src%3D%22%20http%3A%2F%2Fhehe1.200218.com%2Fyd3a1ecf91f5caf530db167583a4ac79bd05b28f5563ac32ed12.js%22%3E%3C%2Fscript%3E%20        </textarea></div>
       <div style="height:10px;"></div>
        
       <!--分享上访信息流03-->
        <div data-role="sax-wrap-2" style="line-height:2.0em;font-size:.875em;white-space:nowrap; margin:0 1.071em;background-color:#fff;border:1px solid #EAEAEA;padding-left:14px;padding-top:13px;">
        <textarea data-type="ad-scripts" style="display:none">        &lt;img src="http://sax.sina.com.cn/view?type=nonstd&amp;t=REowMDAxNDU4Nw%3D%3D?p=1486199483"&gt;
        %3Cscript%20type%3D%22text%2Fjavascript%22%20src%3D%22http%3A%2F%2Fsscm1.mipujia.com%2Fvb3a1ecf91f6cef739db0d6388acad79e25cf2c80e32e37fe1103c.js%22%3E%3C%2Fscript%3E        </textarea></div>
        
       
       
      
       
       

        <div class="bl_share" id="bl_share_s" style="background: #fbfbfb;">
            <h4 class="share_ttl"><span>分享</span><i></i></h4>
            <style type="text/css">
                .bl_share .share_lst li a {
                    display: block;
                }
            </style>
            <ul class="share_lst clearfix">
                <li><a suda-uatrack="key=h5_blog_zwy_share&amp;value=myblog" data-role="forward" trace-code="10_01_01" href="javascript:void(0);" class="b-txt2"><i class="shr_ico shr_sinablg"></i><span>我的博客</span></a></li>
                <li><a suda-uatrack="key=h5_blog_zwy_share&amp;value=weibo" data-role="weibo-link" trace-code="10_01_02" target="_blank" class="b-txt2" href="http://blog.sina.cn/dpool/blog/s/blog_672711780100vshv.html?vt=4"><i class="shr_ico shr_wb"></i><span>微博</span></a></li>
                <li style="display:none;"><a suda-uatrack="key=h5_blog_zwy_share&amp;value=weixin" data-role="wechat-friend" trace-code="10_01_04" href="javascript:;" class="b-txt2"><i class="shr_ico shr_wx"></i><span>微信</span></a></li>
                <li style="display:none;"><a suda-uatrack="key=h5_blog_zwy_share&amp;value=friends" data-role="wechat-timeline" trace-code="10_01_05" href="javascript:;" class="b-txt2 "><i class="shr_ico shr_frnd"></i><span>朋友圈</span></a></li>
            </ul>
        </div>
        
       <!-- 评论判断 -->
                <div class="blg_comment clearfix" id="pl-blog-mutual">
            <div class="comment_box">
                <input data-role="comment-text" disabled="" name="" type="text" class="comment_input" placeholder="我来说两句...">
                <i class="ico_write"></i>
            </div>
            <div class="info_tips" data-role="comment-btn"><span class="tips_box"><i class="ico_tips"></i><a href="http://blog.sina.cn/dpool/blog/s/blog_672711780100vshv.html?vt=4#"><b class="tips_numb"></b></a></span></div>
        </div>
                <!--写评论弹层-->
        <div data-role="comment-mask" id="pl-bottom-mask" style="display: none;"></div>
        <div class="mutual-mod wrt_mutual-mod" id="pl-bottom-comment" data-role="submit-row" style="display: none;">
            <div class="bl-comment">
                <textarea name="" data-role="comment-textarea" id="" class="b-txtarea"></textarea>
                <!--不转发到微博时 给 comment—box 增加 class="b-checkbox-frbdn"-->
                <div class="comment—box clearfix">
                    <div class="forward" data-role="share-checkbut">
                        <div data-role="share-checkbox" class="b-checkbox-active"><span class="b-ft-icon">N</span></div><i class="b-txt3">同时转发到微博</i></div>
                    <div class="submint clearfix"><a data-role="comment-submit" href="javascript:;" class="publsh_btn">发送</a></div>
                </div>
            </div>
        </div>
        <!--/写评论弹层-->
    <!-- 更多文章 -->
    </div>
</div>
<div data-role="more-article" id="pl-article-more"><div class="bl-related-more new-related-more"><h3 class="b-txt1"><span><a id="more-article-link" suda-uatrack="key=h5_zwy_sinablog&amp;value=h5_zwy_moreblog">我的更多文章</a></span></h3><ul class="related-ls"><li class="b-ellipsis"><a href="http://blog.sina.cn/dpool/blog/s/blog_672711780100yhwz.html?md=gd" trace-code="38_01_52" class="b-txt2" suda-uatrack="key=h5_zwy_sinablog&amp;value=h5_zwy_blogarea">【大盘分析】2012-01-12大盘分析</a></li><li class="b-ellipsis"><a href="http://blog.sina.cn/dpool/blog/s/blog_672711780100wgof.html?md=gd" trace-code="38_01_52" class="b-txt2" suda-uatrack="key=h5_zwy_sinablog&amp;value=h5_zwy_blogarea">中国需要一场大变革——真的假的？</a></li><li class="b-ellipsis"><a href="http://blog.sina.cn/dpool/blog/s/blog_672711780100w31v.html?md=gd" trace-code="38_01_52" class="b-txt2" suda-uatrack="key=h5_zwy_sinablog&amp;value=h5_zwy_blogarea">王岐山副总理的判断后——政策如何走向</a></li><li class="b-ellipsis"><a href="http://blog.sina.cn/dpool/blog/s/blog_672711780100utbl.html?md=gd" trace-code="38_01_52" class="b-txt2" suda-uatrack="key=h5_zwy_sinablog&amp;value=h5_zwy_blogarea">关于【文化产业成为国民经济支柱性产业】的思考</a></li><li class="b-ellipsis"><a href="http://blog.sina.cn/dpool/blog/s/blog_672711780100ur83.html?md=gd" trace-code="38_01_52" class="b-txt2" suda-uatrack="key=h5_zwy_sinablog&amp;value=h5_zwy_blogarea">小悦悦事件的本质是政府、执法机构长期作恶的累积后果</a></li></ul></div></div>
<div id="pl-blog-top" class="bl-sinaapp bl-sinaapp-patch" style="display:none;"></div>
<div id="pl-blog-game" class="bl-sinaapp" style="display:none;">
    <a data-role="link" href="http://dl.kjava.sina.cn/gamecenter/package/502571/502571_100010041000.apk" class="b-txt2" trace-code="12_01_06">
        <span class="appimg game4-app"></span> 
        <span class="b-btn-b app-download">打 开</span>
        <h4 class="b-ellipsis">疯狂捕鱼</h4>
        <p class="txt b-ellipsis">海底宝藏等你探寻！</p>
    </a>
</div>
<div id="pl-blog-tbyy">
    <textarea data-type="ad-scripts" class="bl-tb-yy" style="display:none">%3Cscript%3E%28function%28%29%20%7Bdocument.write%28%22%3Ca%20style%3D%27display%3Anone%21important%27id%3D%27tanx-a-mm_15890324_8176878_28008044%27%3E%3C%2Fa%3E%22%29%3BsetTimeout%28function%28%29%7Bvar%20oImg%3Dnew%20Image%3BoImg.src%3D%27http%3A%2F%2Fsax.sina.com.cn%2Fview%3Ftype%3Dnonstd%26t%3DREowMDAxMDc3NQ%253D%253D%27%2B%28%27%26r%3D%27%2BMath.random%28%29%29.replace%28%27.%27%2C%27%27%29%3B%7D%2C300%29%7D%29%28%29%3B%3C%2Fscript%3E%3Cscript%20src%3D%22http%3A%2F%2Fd1.sina.com.cn%2Flitong%2Flijun%2F0525%2Fmm_15890324_8176878_28008044.js%3Fuuid%3Dblog_article_banner%22%3E%3C%2Fscript%3E    </textarea>
</div>

<div class="bl-blog-foot" id="pl-foot-opin">
    <span class="back" data-role="foot-back"></span>
    <a href="http://www.sina.cn/" class="b-txt1">手机新浪网</a>
    <a href="http://news.sina.cn/?sa=t124d8889597v84&amp;pos=99&amp;vt=4" class="b-txt1">导航</a>
    <a href="http://site.proc.sina.cn/search/index.php?search_kind=blog&amp;vt=4" class="b-txt1">搜索</a>
    <a href="http://dp.sina.cn/dpool/messagev2/index.php?boardid=36" class="b-txt1">意见反馈</a>
    <span class="home-up" data-role="gotop-btn"><em>回顶部</em></span>
</div><!--
<div id="pl-float-bar" class="bl-bar" style="display:none;">
    <div class="bl_openApp" data-role="bottom-app" style="position:absolute;bottom:0px;">
        <div class="bl_open_bar"><img src="http://img.mjs.sinajs.cn/blog/ria/h5/v1/images/blg_logo.png" width="47" height="47" class="bl_bar_logo">
            <p class="bl_open_tit">新浪博客</p>
            <p class="bl_bar_intrdc">最新版手机客户端</p>
            <div class="bl_open_btn">打开</div>
        </div>
        <div class="bl_open_cls"><span class="bl_cls_bdr" data-role="ad-close"><i class="bl_open_cls_l"></i><i class="bl_open_cls_r"></i></span></div>
    </div>
</div>--></div>
</div>
<!--第二列start-->

</div>
</div>

</div>
</div>
<div style="display:none">











<!---->




<!-- start dmp -->

<!-- end dmp -->
</div>


<title>jmx远程访问关键设置_金融后半生 </title></body></html>