<!DOCTYPE html>
<!-- saved from url=(0039)http://www.tuicool.com/articles/eqqmqmy -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta content="authenticity_token" name="csrf-param">
<meta content="lC45FLA5yptXA/zcZV/fTHbYbpJLypStyXgVQMSqiLI=" name="csrf-token">
    <title>
            mycat实践篇-分表分库原则 - 推酷
   </title>
    <meta name="description" content="mycat实践篇-分表分库原则">
  <link rel="shortcut icon" href="http://static0.tuicool.com/favicon.ico" type="image/x-icon">
  <link href="http://static0.tuicool.com/images/icon114.png" rel="Bookmark">
  <link rel="apple-touch-icon" sizes="57x57" href="http://static1.tuicool.com/images/icon57.png"> 
  <link rel="apple-touch-icon" sizes="72x72" href="http://static2.tuicool.com/images/icon72.png">  
  <link rel="apple-touch-icon" sizes="114x114" href="http://static0.tuicool.com/images/icon114.png">    
  <link rel="apple-touch-icon" sizes="144x144" href="http://static1.tuicool.com/images/icon144.png">
  <link href="./mycat实践篇-分表分库原则 - 推酷_files/pub.css" rel="stylesheet">
  <link href="./mycat实践篇-分表分库原则 - 推酷_files/application-0432aef4e6fac6447ae7c9a87b77a8e9.css" media="screen" rel="stylesheet" type="text/css">
  <link href="./mycat实践篇-分表分库原则 - 推酷_files/font-awesome.min.css" rel="stylesheet">
  <script type="text/javascript" src="./mycat实践篇-分表分库原则 - 推酷_files/pub.js.下载"></script>
  <script src="./mycat实践篇-分表分库原则 - 推酷_files/application-59f28b55ce06574657af36ca492c8501.js.下载" type="text/javascript"></script>
    <script type="text/javascript" src="./mycat实践篇-分表分库原则 - 推酷_files/tip.js.下载" async=""></script>
  
  <script type="text/javascript" src="./mycat实践篇-分表分库原则 - 推酷_files/spin.min.js.下载" async=""></script>
    <link rel="stylesheet" href="./mycat实践篇-分表分库原则 - 推酷_files/highlight.default.css">
    <style type="text/css">
      .btn-large {
        padding: 0;
      }
      .load-fail {
        display: none;
      }

    </style>

<style type="text/css"></style></head>
<body class=" pace-done"><div class="pace  pace-inactive"><div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
  <div class="pace-progress-inner"></div>
</div>
<div class="pace-activity"></div></div>
  
  <div id="header" class="navbar-fixed-top">
    <div class="container">
      <div class="navbar">
        <div class="navbar-inner">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"> 
            <span class="icon-bar"></span> 
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span> 
          </a>
          <a href="http://www.tuicool.com/" class="brand">推酷</a>        
        <nav class="nav-collapse collapse">
            <ul class="nav navbar primary-nav">                            
              <li class="active">
                <a href="http://www.tuicool.com/ah">
                  文章
                </a>
              </li>              
              <li class="">
                <a href="http://www.tuicool.com/sites/hot">
                  站点
                </a>
              </li>
              <li class="">
                <a href="http://www.tuicool.com/topics">
                  主题
                </a>
              </li>
              <li class="">
                <a href="http://huodong.tuicool.com/">
                  活动
                </a>
              </li>
                  <li class="">
                    <a href="http://course.tuicool.com/">
                      公开课
                    </a>
                  </li>
              <li class="">
                <a href="http://www.tuicool.com/mobile">
                  APP
                    <sup style="font-size:0.8em;color: #16A085;">荐</sup>
                </a>
              </li>
              <li class="dropdown">
                <a href="http://www.tuicool.com/articles/eqqmqmy#" class="dropdown-toggle" data-toggle="dropdown">周刊 <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="http://www.tuicool.com/mags">编程狂人</a></li>
                  <li><a href="http://www.tuicool.com/mags/design">设计匠艺</a></li> 
                  <li><a href="http://www.tuicool.com/mags/startup">创业周刊</a></li> 
                  <li><a href="http://www.tuicool.com/mags/tech">科技周刊</a></li>      
                  <li><a href="http://www.tuicool.com/mags/guru">Guru Weekly</a></li> 
                  <li><a href="http://www.tuicool.com/articles/weekly">一周拾遗</a></li>                  
                </ul>
              </li>
              
              </ul>
            <form class="navbar-search pull-left" action="http://www.tuicool.com/search">
              <input type="text" class="search-query span2" name="kw" placeholder="搜索">
            </form>
            <ul class="nav pull-right">
                <li><a href="http://www.tuicool.com/login">登录</a></li>
            </ul>
          </nav>
        </div>
      </div>
  </div>   
</div>
  <div id="flash_container" class="noPrint">    
  </div>
  
  <div class="container-fluid">  
      
<div class="row-fluid article_row_fluid">
    <div class="span8 contant article_detail_bg">
        <h1>mycat实践篇-分表分库原则</h1>
        <div class="article_meta">
            <div style="margin-bottom: 5px;">
            <span class="timestamp">时间&nbsp;2016-06-28 23:27:52
            </span>
            <span class="from">
                <i class="icon-globe"></i>
                    公众账号
            </span>
            </div>
            <div class="source">
                <i style="float:left;">原文</i>&nbsp; 
                <a class="cut cut70" href="http://mp.weixin.qq.com/s?__biz=MzA4NDc2MDQ1Nw==&amp;mid=2650237806&amp;idx=2&amp;sn=6ed88bfd6040904691d33822dce11f88&amp;scene=0#wechat_redirect&amp;utm_source=tuicool&amp;utm_medium=referral" style="display:inline-block;">http://mp.weixin.qq.com/s?__biz=MzA4NDc2MDQ1Nw==&amp;mid=2650237806&amp;idx=2&amp;sn=6ed88bfd6040904691d33822dce11f88&amp;scene=0#wechat_redirect</a>
            </div>
            <div>
                <span>主题</span>
                <a href="http://www.tuicool.com/topics/11030067" target="_blank">
                    <span class="new-label">SQL</span>
                </a>
            </div>
        </div>
        <div class="article_body" id="nei">
            <div>
  <p>分表分库虽然能解决大表对数据库系统的压力，但它并不是万能的，也有一些不利之处，因此首要问题是，分不分库，分哪些库，什么规则分，分多少分片。</p>
  <p>原则一：能不分就不分，1000万以内的表，不建议分片，通过合适的索引，读写分离等方式，可以很好的解决性能问题。</p>
  <p>原则二：分片数量尽量少，分片尽量均匀分布在多个DataHost上，因为一个查询SQL跨分片越多，则总体性能越差，虽然要好于所有数据在一个分片的结果，只在必要的时候进行扩容，增加分片数量。</p>
  <p>原则三：分片规则需要慎重选择，分片规则的选择，需要考虑数据的增长模式，数据的访问模式，分片关联性问题，以及分片扩容问题，最近的分片策略为范围分片，枚举分片，一致性Hash分片，这几种分片都有利于扩容</p>
  <p>原则四：尽量不要在一个事务中的SQL跨越多个分片，分布式事务一直是个不好处理的问题</p>
  <p>原则五：查询条件尽量优化，尽量避免Select * 的方式，大量数据结果集下，会消耗大量带宽和CPU资源，查询尽量避免返回大量结果集，并且尽量为频繁使用的查询语句建立索引。</p>
  <p>这里特别强调一下分片规则的选择问题，如果某个表的数据有明显的时间特征，比如订单、交易记录等，则他们通常比较合适用时间范围分片，因为具有时效性的数据，我们往往关注其近期的数据，查询条件中往往带有时间字段进行过滤，比较好的方案是，当前活跃的数据，采用跨度比较短的时间段进行分片，而历史性的数据，则采用比较长的跨度存储。</p>
  <p>总体上来说，分片的选择是取决于最频繁的查询SQL的条件，因为不带任何Where语句的查询SQL，会便利所有的分片，性能相对最差，因此这种SQL越多，对系统的影响越大，所以我们要尽量避免这种SQL的产生。</p>
  <p>如何准确统计和分析当前系统中最频繁的SQL呢？有几个简单做法：</p>
  <p>- 采用特殊的JDBC驱动程序，拦截所有业务SQL，并写程序进行分析</p>
  <p>- 采用Mycat的SQL拦截器机制，写一个插件，拦截所欲SQL，并进行统计分析</p>
  <p>- 打开MySQL日志，分析统计所有SQL</p>
  <p>找出每个表最频繁的SQL，分析其查询条件，以及相互的关系，并结合ER图，就能比较准确的选择每个表的分片策略。</p>
  <p>对于大家经常提起的同库内分表的问题，这里做一些分析和说明，同库内分表，仅仅是单纯的解决了单一表数据过大的问题，由于没有把表的数据分布到不同的机器上，因此对于减轻MySQL服务器的压力来说，并没有太大的作用，大家还是竞争同一个物理机上的IO、CPU、网络。此外，库内分表的时候，要修改用户程序发出的SQL，可以想象一下A、B两个表各自分片5个分表情况下的Join SQL会有多么的反人类。这种复杂的SQL对于DBA调优来说，也是个很大的问题。因此，Mycat和一些主流的数据库中间件，都不支持库内分表，但由于MySQL本身对此有解决方案，所以可以与Mycat的分库结合，做到最佳效果，下面是MySQL的分表方案：</p>
  <ul>
    <li>
      <p class="no-text-indent">MySQL分区</p>
    </li>
    <li>
      <p class="no-text-indent">MERGE表（MERGE存储引擎）</p>
    </li>
  </ul>
  <p>通俗地讲MySQL分区是将一大表，根据条件分割成若干个小表。mysql5.1开始支持数据表分区了。 如：某用户表的记录超过了600万条，那么就可以根据入库日期将表分区，也可以根据所在地将表分区。当然也可根据其他的条件分区。</p>
  <ul>
    <li>
      <p class="no-text-indent">RANGE分区：基于属于一个给定连续区间的列值，把多行分配给分区，MySQL分区支持的分区规则有以下几种：LIST分区：类似于按RANGE分区，区别在于LIST分区是基于列值匹配一个离散值集合中的某个值来进行选择。</p>
    </li>
    <li>
      <p class="no-text-indent">HASH分区：基于用户定义的表达式的返回值来进行选择的分区，该表达式使用将要插入到表中的这些行的列值进行计算。这个函数可以包含MySQL 中有效的、产生非负整数值的任何表达式。</p>
    </li>
    <li>
      <p class="no-text-indent">KEY分区：类似于按HASH分区，区别在于KEY分区只支持计算一列或多列，且MySQL服务器提供其自身的哈希函数。必须有一列或多列包含整数值。</p>
    </li>
  </ul>
  <p>在Mysql数据库中，Merge表有点类似于视图，mysql的merge引擎类型允许你把许多结构相同的表合并为一个表。之后，你可以执行查询，从多个表返回的结果就像从一个表返回的结果一样。每一个合并的表必须有完全相同表的定义和结构，但只支持只是支持MyISAM引擎。</p>
  <ul>
    <li>
      <p class="no-text-indent">Mysql Merge表的优点：</p>
    </li>
    <li>
      <p class="no-text-indent">分离静态的和动态的数据</p>
    </li>
    <li>
      <p class="no-text-indent">利用结构接近的的数据来优化查询</p>
    </li>
    <li>
      <p class="no-text-indent">查询时可以访问更少的数据</p>
    </li>
    <li>
      <p class="no-text-indent">更容易维护大数据集</p>
    </li>
  </ul>
  <p>在数据量、查询量较大的情况下，不要试图使用Merge表来达到类似于Oracle的表分区的功能，会很影响性能。我的感觉是和union几乎等价。</p>
  <p>Mycat建议的方案是Mycat分库+MySQL分区，此方案具有以下优势：</p>
  <ul>
    <li>
      <p class="no-text-indent">充分结合分布式的并行能力和MySQL分区表的优化</p>
    </li>
    <li>
      <p class="no-text-indent">可以灵活的控制表的数据规模</p>
    </li>
    <li>
      <p class="no-text-indent">可以两个维度对表进行分片，MyCAT一个维度分库，MySQL一个维度分区</p>
    </li>
  </ul>
</div>

        </div>
        <div class="article_social">
         <div class="article_like">
    <div class="circle circle-like" id="my_zan" data_id="eqqmqmy">  </div>

</div>
        <div id="share_weixin_image">
            <img width="100px" height="100px" src="./mycat实践篇-分表分库原则 - 推酷_files/qrcode.php">
        </div>
<div class="article_share_fav">
    <div class="share" id="ckepop">
        <span>分享</span>
        <button class="share_weibo" id="share_weibo_id" title="分享到新浪微博"></button>
        <button class="share_qq" id="share_qq_id" title="分享到QQ空间"></button>
        <button class="share_weixin" id="share_weixin_id"></button>
    </div>
    <div class="fav_correct">
        <button id="my_fav" data_id="eqqmqmy">
            <i class="icon icon-star-empty"></i> <span id="fav_tip">收藏</span>
        </button>
        <button id="article-correct" data_id="eqqmqmy" uid="0">
            <i class="icon icon-warning-sign"></i>
            <span>纠错</span>
        </button>
    </div>
</div>
<script type="text/javascript">
$("#share_weibo_id").click( function() {
   window.open("http://share.baidu.com/s?type=text&searchPic=0&sign=on&to=tsina&url=http://www.tuicool.com/articles/eqqmqmy&title=mycat%E5%AE%9E%E8%B7%B5%E7%AF%87-%E5%88%86%E8%A1%A8%E5%88%86%E5%BA%93%E5%8E%9F%E5%88%99++%28%E5%88%86%E4%BA%AB%E8%87%AA+%40%E6%8E%A8%E9%85%B7%E7%BD%91%29&key=3113829255");
});
$("#share_qq_id").click( function() {
   window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.tuicool.com/articles/eqqmqmy&title=mycat%E5%AE%9E%E8%B7%B5%E7%AF%87-%E5%88%86%E8%A1%A8%E5%88%86%E5%BA%93%E5%8E%9F%E5%88%99&desc=&summary=&site=");
});
$("#share_weixin_id").click( function() {
  $("#share_weixin_image").toggle();
});
</script>


            <div class="bottom_plink huodong-detail-plink-banner clearfix">
                    <a href="https://www.mysubmail.com/sms?s=tuicool" target="_blank"><img src="./mycat实践篇-分表分库原则 - 推酷_files/submail700.jpg"></a>

            </div>
        </div>
        <div id="site_articles" style="clear:both;">
              <div class="article-part-title">
                <span>推荐文章</span>
              </div>
          <ul class="side_article_list">
                <li class="side_article_list_item">
                    1.<a href="http://www.tuicool.com/articles/NFnqu2v" target="_blank" title="MySQL Group Replication调研剖析">
                    MySQL Group Replication调研剖析
                    </a>
                </li>
                <li class="side_article_list_item">
                    2.<a href="http://www.tuicool.com/articles/BVzumub" target="_blank" title="C++数据库操作之SOCI">
                    C++数据库操作之SOCI
                    </a>
                </li>
                <li class="side_article_list_item">
                    3.<a href="http://www.tuicool.com/articles/yauQNr3" target="_blank" title="码云推荐 | 用 php 扩展写的数据库连接池 phpcp">
                    码云推荐 | 用 php 扩展写的数据库连接池 phpcp
                    </a>
                </li>
                <li class="side_article_list_item">
                    4.<a href="http://www.tuicool.com/articles/7Z7Fnqf" target="_blank" title="解析 TiDB 在线数据同步工具 Syncer">
                    解析 TiDB 在线数据同步工具 Syncer
                    </a>
                </li>
                <li class="side_article_list_item">
                    5.<a href="http://www.tuicool.com/articles/eIFNV3M" target="_blank" title="让 go-sql-driver/mysql 兼容 cobar 的事务">
                    让 go-sql-driver/mysql 兼容 cobar 的事务
                    </a>
                </li>
                <li class="side_article_list_item">
                    6.<a href="http://www.tuicool.com/articles/E3AVBvQ" target="_blank" title="如何找出数据库中被删除记录的主键？">
                    如何找出数据库中被删除记录的主键？
                    </a>
                </li>
          </ul>
        </div>
        <div id="kan_articles"> <div class="article-part-title"> <span>相关推刊</span></div><div class="kan-list-container"><ul class="kan-list clearfix">          <li class="kan-item">            <a href="http://www.tuicool.com/kans/4041230944" target="_blank" class="kan-item-head">              <small>by 姜英伟_0</small>              <img class="kan-cover" src="./mycat实践篇-分表分库原则 - 推酷_files/yuQfqy.png!kan">            </a>            <span class="kan-detail">              <a href="http://www.tuicool.com/kans/4041230944" target="_blank">《mysql》</a>              <i class="kan-num">9</i>            </span>          </li>                  <li class="kan-item">            <span class="kan-item-head">              <small></small>              <img class="kan-cover" src="./mycat实践篇-分表分库原则 - 推酷_files/IJFvMjb.png!kan">            </span>            <span class="kan-detail">              <i>《匿名收藏》</i>              <i class="kan-num">11</i>            </span>          </li>                  <li class="kan-item">            <a href="http://www.tuicool.com/kans/3581925870" target="_blank" class="kan-item-head">              <small>by 翩跹_0</small>              <img class="kan-cover" src="./mycat实践篇-分表分库原则 - 推酷_files/u6J77zY.png!kan">            </a>            <span class="kan-detail">              <a href="http://www.tuicool.com/kans/3581925870" target="_blank">《默认推刊》</a>              <i class="kan-num">19</i>            </span>          </li>        </ul></div><i class="clearfix"></i></div>
        <div id="article_weibo" style="display:none;">
            <div class="article-part-title">
                <span>相关微博</span>
                <sub>
                    <a href="http://www.tuicool.com/articles/weibo_list/eqqmqmy" target="_blank">(<i id="weibo_num"></i>)</a> 
               </sub>
            </div>
            <div class="related-weibo-list"></div>
        </div>
        <div class="comments">
    <div class="comments-area">
    <div class="comments-header">
        <h5>我来评几句</h5>
        <div class="alert comment-alert alert-error" style="display:none;">
            错误
        </div>
            <textarea cols="60" rows="5" id="comment-body" placeholder="请输入评论内容..." style="resize: none;"></textarea>
            <span class="btn btn-medium btn-submit" id="comment-submit">登录后评论</span>
        <p style="margin-top: 5px;margin-left:10px;">
            已发表评论数(<span class="comment_cnt">0</span>)
        </p>
    </div>
    <div class="comments-list">
        <div class="empty-cmts alert alert-success" style="display:none;">
            没有更多评论了^^
        </div>
    </div>
    <div class="more-comments" style="display:none;">
        <a href="http://www.tuicool.com/articles/eqqmqmy">更多评论</a>
    </div>
    <div class="load-fail" style="display:none;">
        评论加载失败，<a href="javascript:reload_comments(&#39;eqqmqmy&#39;,1,0,-1);">重新加载</a>
    </div>
    </div>
</div>

    </div>
        <div class="span4 article_right_side">
            <div class="right_top">
    <div class="article_related_site article_detail_bg">
    <h4 class="article-part-title">相关站点</h4>
    <div class="article_related_site_body clearfix">
        <div class="logo">
            <img src="./mycat实践篇-分表分库原则 - 推酷_files/iIzq6rE.png">
        </div>
        <div class="name">
            <div>
                <a href="http://www.tuicool.com/sites/iIzq6rE" target="_blank"> 公众账号</a>
            </div>
            <div>
                <div class="btn btn-success right_site_follow" id="my_follow" data_id="iIzq6rE">＋订阅</div>
            </div>
        </div>
    </div>
</div>

<div id="right_site_articles" class="article_detail_bg">
    <div class="article-part-title">
        <span>热门文章</span>
    </div>
    <ul class="side_article_list">
        <li class="side_article_list_item">
            1.<a href="http://www.tuicool.com/articles/NFnqu2v" target="_blank" title="MySQL Group Replication调研剖析"> MySQL Group Replication调研剖析 </a>
        </li>
        <li class="side_article_list_item">
            2.<a href="http://www.tuicool.com/articles/yauQNr3" target="_blank" title="码云推荐 | 用 php 扩展写的数据库连接池 phpcp"> 码云推荐 | 用 php 扩展写的数据库连接池 phpcp </a>
        </li>
        <li class="side_article_list_item">
            3.<a href="http://www.tuicool.com/articles/Q7bY7fu" target="_blank" title="当我们在抢红包时，微信运维在做什么？"> 当我们在抢红包时，微信运维在做什么？ </a>
        </li>
        <li class="side_article_list_item">
            4.<a href="http://www.tuicool.com/articles/7Z7Fnqf" target="_blank" title="解析 TiDB 在线数据同步工具 Syncer"> 解析 TiDB 在线数据同步工具 Syncer </a>
        </li>
        <li class="side_article_list_item">
            5.<a href="http://www.tuicool.com/articles/eIFNV3M" target="_blank" title="让 go-sql-driver/mysql 兼容 cobar 的事务"> 让 go-sql-driver/mysql 兼容 cobar 的事务 </a>
        </li>
    </ul>
</div>


      <div class="right-link">
                <a href="https://www.mysubmail.com/sms?s=tuicool" target="_blank"><img src="./mycat实践篇-分表分库原则 - 推酷_files/submail120.jpg"></a>

      </div>
      <div class="right-link" style="margin-top: 5px">
                <a href="http://click.aliyun.com/m/9127/" target="_blank"><img src="./mycat实践篇-分表分库原则 - 推酷_files/aliyun120.jpg"></a>

      </div>
      <div class="right-link" style="margin-top: 5px">
                <a href="https://sspaas.com/" target="_blank"><img src="./mycat实践篇-分表分库原则 - 推酷_files/sspaas320.jpg"></a>

      </div>
</div>
<div class="operate_zone" style="position: inherit; top: 0px;">
        <div class="frd_pos">
        <script async="" src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-7054762349007490" data-ad-slot="5705695566"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

        </div>
</div>
         </div>
</div>

<div>
   <!-- add_article to kan -->
<div id="add-article-to-kan" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <span class="add-title">收藏到推刊</span>
    <a href="http://www.tuicool.com/articles/eqqmqmy#new-kan" class="btn pull-right" data-toggle="modal">创建推刊</a>
    <i class="clearfix"></i>
  </div>
  <div class="modal-body">
    <ul id="add-kan-list">
    </ul>
  </div>
  <div class="modal-footer">
    <input type="hidden" value="eqqmqmy" class="article-id"> 
    <button class="btn btn-primary pull-left add-to-btn">  收 藏  </button>
    <button class="btn" data-dismiss="modal" aria-hidden="true" style="margin-right: 15px">取消</button>
  </div>
</div>

   <div id="new-kan" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-body">
    <input type="text" name="name" id="new-kan-name" placeholder="推刊名(必填)" required="" data-validation-required-message="请填写推刊名">
    <span class="new-ness-name">请填写推刊名</span>
    <br>
    <textarea name="desc" id="desc" rows="6" placeholder="推刊描述"></textarea>
    <span class="new-ness-desc">描述不能大于100个字符!</span>
    <br>
    权限设置：<input type="radio" name="type" value="1" checked="checked"> 公开
    <input type="radio" name="type" value="0"> 仅自己可见
  </div>
  <div class="modal-footer">
    <button class="btn btn-primary pull-left create-kan-btn" disabled="">创建</button>
    <button class="btn dismiss-new-kan" data-dismiss="modal" aria-hidden="true">取消</button>
  </div>
</div>


</div>
<div id="article-correct-modal" class="modal hide fade in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="false">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
            ×
        </button>
        <h3>文章纠错</h3>
    </div>
    <div class="modal-body">
        <input type="hidden" value="eqqmqmy" id="article-correct-source">
        <div>
            <label for="article-correct-email">
                邮箱地址
            </label>
            <input type="email" id="article-correct-email" class="input-large">
        </div>
        <div>
            <label for="article-correct-select">
                错误类型
            </label>
            <select id="article-correct-select">
                <option value="正文不准确">正文不准确</option>
                <option value="标题不准确">标题不准确</option>
                <option value="排版有问题">排版有问题</option>
                <option value="排版有问题">主题不准确</option>
                <option value="没有分页内容">没有分页内容</option>
                <option value="图片无法显示">图片无法显示</option>
                <option value="视频无法显示">视频无法显示</option>
                <option value="与原文不一致">与原文不一致</option>
            </select>
        </div>
        <div>
            <label for="article-correct-other">
                补充信息
            </label>
            <textarea id="article-correct-other" class="span4"></textarea>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary pull-right huodong_correct_submit" id="article-correct-submit">
            &nbsp;&nbsp;提交&nbsp;&nbsp;
        </button>
    </div>
</div>


<script src="./mycat实践篇-分表分库原则 - 推酷_files/highlight.pack.js.下载"></script>
<script type="text/javascript">
    $('table').each(function(i) {
        var size = $(this).children().size();
        if (size > 1) {
            $(this).attr('class',"table table-bordered");
        } else if (size == 1) {
            var e11 = $(this).children(":first");
            var e1 = e11[0];
            var name = e1.nodeName.toLowerCase();
            if ("tbody" == name) {
                if (e1.children.length > 1) {
                    $(this).attr('class',"table table-bordered");
                } else if (e1.children.length == 1){
                    var e12 = e1.children[0];
                    var name2 = e12.nodeName.toLowerCase();
                    if ("tr" == name2) {
                       if (e12.children.length > 1) {
                         $(this).attr('class',"table table-bordered");
                       }
                    }
                }
            }
        }
    });
            related_kan("eqqmqmy");
        window.page = 0;
        window.last = 0;    
        window.first = true;
        resize_article_image('#nei', 550);
                load_comments("eqqmqmy",1,0,-1);
                window.uid = -1;
        open_add_article_to_kan("false");
        async_do_zan_article();
        $('pre').each(function(i, e) {
            hljs.highlightBlock(e, "<span class='indent'>  </span>", false)
        });
       
          
       handle_follow_site("#my_follow","已订阅","+ 订阅");
</script>


    <div class="loader-inner ball-pulse ball-loading-center" id="page-loading" style="display: none">
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div class="read-later-alert"></div>
  </div>

        <div class="footer">
      <div class="footer-inner" style="padding-top: 50px;padding-bottom: 50px">
        <a href="http://www.tuicool.com/about" target="_blank">关于我们</a>
        <a href="http://www.tuicool.com/mobile" target="_blank">移动应用</a>
        <a href="http://www.tuicool.com/bbs/go/issues" target="_blank">意见反馈</a>
        <a target="_blank" href="http://e.weibo.com/tuicool2012">官方微博</a>
      </div>
    </div>
    <div style="display:none;">
      <script src="./mycat实践篇-分表分库原则 - 推酷_files/stat.php" language="JavaScript"></script><script src="./mycat实践篇-分表分库原则 - 推酷_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=5541078" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="./mycat实践篇-分表分库原则 - 推酷_files/pic.gif"></a>
    </div>




<div class="return" title="返回顶部" style="display: none;"></div></body></html>