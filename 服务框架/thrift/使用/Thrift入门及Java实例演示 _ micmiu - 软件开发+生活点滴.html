<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0044)http://www.micmiu.com/soa/rpc/thrift-sample/ -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/shares.php" charset="utf-8"></script><script src="http://id.jiathis.com/id.php?u=http%3A%2F%2Fwww.micmiu.com%2Fsoa%2Frpc%2Fthrift-sample%2F&amp;t=Thrift%E5%85%A5%E9%97%A8%E5%8F%8AJava%E5%AE%9E%E4%BE%8B%E6%BC%94%E7%A4%BA%20%7C%20micmiu%20-%20%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%2B%E7%94%9F%E6%B4%BB%E7%82%B9%E6%BB%B4&amp;r=https%3A%2F%2Fwww.baidu.com%2Flink%3Furl%3Dqmoo2NyFOTpB2LxxIPs-QXT-jHxAJtdVW7o56z7ELeiPa6n1qeNAk-0nbWIoE_7GvV5zxzXxhDXZChK9SInZj_%26wd%3D%26eqid%3Ddce19f4400085edd00000005585a45f2&amp;k=&amp;s=baidu&amp;jiathis=1&amp;uyan=0&amp;ujian=0&amp;time=1482311171061" charset="utf-8"></script>
	
	<title>Thrift入门及Java实例演示 | micmiu -  软件开发+生活点滴</title>
	<link rel="stylesheet" type="text/css" media="all" href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/style.css">
	<link rel="pingback" href="http://www.micmiu.com/xmlrpc.php">
	
<!-- All in One SEO Pack 2.2.5.1 by Michael Torbert of Semper Fi Web Design[291,337] -->
<meta name="keywords" content="apache,rpc,thrift">

<link rel="canonical" href="http://www.micmiu.com/soa/rpc/thrift-sample/">
<!-- /all in one seo pack -->
<link rel="alternate" type="application/rss+xml" title="micmiu -  软件开发+生活点滴 » Feed" href="http://www.micmiu.com/feed/">
<link rel="alternate" type="application/rss+xml" title="micmiu -  软件开发+生活点滴 » 评论Feed" href="http://www.micmiu.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="micmiu -  软件开发+生活点滴 » Thrift入门及Java实例演示评论Feed" href="http://www.micmiu.com/soa/rpc/thrift-sample/feed/">
<link rel="stylesheet" id="crayon-css" href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/crayon.min.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-solarized-dark-css" href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/solarized-dark.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/monaco.css" type="text/css" media="all">
<link rel="stylesheet" id="wm-css" href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/style(1).css" type="text/css" media="all">
<link rel="stylesheet" id="wp-pagenavi-css" href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/pagenavi-css.css" type="text/css" media="all">
<!-- This site uses the Google Analytics by Yoast plugin v5.3.2 - Universal disabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript" async="" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/ga.js.下载"></script><script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-28969715-1']);
	_gaq.push(['_gat._forceSSL']);
	_gaq.push(['_trackPageview']);

	(function () {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();

</script>
<!-- / Google Analytics by Yoast -->
<script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/jquery.js.下载"></script>
<script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/jquery-migrate.min.js.下载"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.6.9","is_admin":"0","ajaxurl":"http:\/\/www.micmiu.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/crayon.min.js.下载"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.micmiu.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://www.micmiu.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Apache Ivy入门" href="http://www.micmiu.com/software/build/apache-ivy-start/">
<link rel="next" title="JRobin绘制指定时间段的流量图" href="http://www.micmiu.com/enterprise-app/snmp/jrobin-graph-rpn/">
<meta name="generator" content="WordPress 4.1.13">
<link rel="shortlink" href="http://www.micmiu.com/?p=701">
<link rel="stylesheet" type="text/css" media="all" href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/weibo.css">
<meta name="google-site-verification" content="dJsm4LD88kwrheLfO84DHoepKJEWvXhvc8Q6MreJUtU">	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style></head>
<body class="single single-post postid-701 single-format-standard"><link href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/jiathis_counter.css" rel="stylesheet" type="text/css"><link href="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/jiathis_share.css" rel="stylesheet" type="text/css"><iframe frameborder="0" style="position: absolute; display: none; opacity: 0;" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/saved_resource.html"></iframe><div class="jiathis_style" style="position: absolute; z-index: 1000000000; display: none; top: 50%; left: 50%; overflow: auto;"></div><div class="jiathis_style" style="position: absolute; z-index: 1000000000; display: none; overflow: auto;"></div><iframe frameborder="0" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/jiathis_utility.html" style="display: none;"></iframe>
<div id="nav">
	<div id="menus">
		<ul><li><a href="http://www.micmiu.com/">首页</a></li></ul>
		<ul id="menu-%e5%af%bc%e8%88%aa%e4%b8%80" class="menu"><li id="menu-item-700" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-700"><a href="http://www.micmiu.com/author/michael/">大大的技术（Michael）</a>
<ul class="sub-menu">
	<li id="menu-item-694" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-694"><a href="http://www.micmiu.com/category/j2ee/">J2EE</a></li>
	<li id="menu-item-697" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-697"><a href="http://www.micmiu.com/category/soa/">SOA</a></li>
	<li id="menu-item-696" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-696"><a href="http://www.micmiu.com/category/opensource/">OpenSource</a></li>
	<li id="menu-item-695" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-695"><a href="http://www.micmiu.com/category/nosql/">NoSQL</a></li>
	<li id="menu-item-699" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-699"><a href="http://www.micmiu.com/category/architecture/">架构设计</a></li>
	<li id="menu-item-698" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-698"><a href="http://www.micmiu.com/category/enterprise-app/">企业应用</a></li>
	<li id="menu-item-337" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-337"><a href="http://www.micmiu.com/category/lang/">编程语言</a>
	<ul class="sub-menu">
		<li id="menu-item-355" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-355"><a href="http://www.micmiu.com/category/lang/java/">Java</a></li>
		<li id="menu-item-356" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-356"><a href="http://www.micmiu.com/category/lang/javascript/">javascript</a></li>
	</ul>
</li>
</ul>
</li>
<li id="menu-item-354" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-354"><a href="http://www.micmiu.com/category/hazel-wu/">小小的生活（Miumiu）</a>
<ul class="sub-menu">
	<li id="menu-item-362" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-362"><a href="http://www.micmiu.com/category/hazel-wu/life/">时间静悄悄</a></li>
	<li id="menu-item-358" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-358"><a href="http://www.micmiu.com/category/hazel-wu/cookroom/">肚皮圆滚滚</a></li>
	<li id="menu-item-359" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-359"><a href="http://www.micmiu.com/category/hazel-wu/feeling/">心底软绵绵</a></li>
</ul>
</li>
<li id="menu-item-341" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-341"><a href="http://www.micmiu.com/about/">关于我们</a></li>
<li id="menu-item-340" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-340"><a href="http://www.micmiu.com/message-board/">留言板</a></li>
</ul>	</div>
	<div id="search">
		<form id="searchform" method="get" action="http://www.micmiu.com/">
<input type="text" value="站内搜索" onfocus="if (this.value == &#39;站内搜索&#39;) {this.value = &#39;&#39;;}" onblur="if (this.value == &#39;&#39;) {this.value = &#39;站内搜索&#39;;}" size="35" maxlength="50" name="s" id="s">
<input type="submit" id="searchsubmit" value="搜索">
</form>	</div>
</div>
<div id="wrapper">
	<div id="header">		<h1><a href="http://www.micmiu.com/">micmiu –  软件开发+生活点滴</a></h1>
		<h2></h2>
		<div class="clear"></div>
			</div>
<div id="content">
		<div class="post-701 post type-post status-publish format-standard hentry category-rpc tag-apache tag-rpc tag-thrift post-single" id="post-701"><!-- post div -->
		<h2 class="title">Thrift入门及Java实例演示</h2>
		<div class="post-info-top">
			<span class="post-info-date">
				作者: <a href="http://www.micmiu.com/author/michael/" title="查看 Michael 的所有文章" rel="author">Michael</a>
				日期:				2012 年 6 月 14 日							</span>
						<span class="addcomment"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#respond" rel="nofollow" title="发表评论？">发表评论</a> (30)</span>
			<span class="gotocomments"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comments" rel="nofollow" title="查看评论？">查看评论</a></span>
					</div>
		<div class="clear"></div>
		<div class="entry">
			<p><strong>目录：</strong></p>
<ul>
<li><span style="line-height: 22px;">概述</span></li>
<li><span style="line-height: 22px;">下载配置<br>
</span></li>
<li><span style="line-height: 22px;">基本概念</span>
<ol>
<li><span style="line-height: 22px;">数据类型</span></li>
<li><span style="line-height: 22px;">服务端编码基本步骤<br>
</span></li>
<li><span style="line-height: 22px;">客户端编码基本步骤<br>
</span></li>
<li><span style="line-height: 22px;">数据传输协议<br>
</span></li>
</ol>
</li>
<li><span style="line-height: 22px;">实例演示（java）</span>
<ol>
<li>&nbsp;thrift生成代码</li>
<li>&nbsp;实现接口Iface</li>
<li>TSimpleServer服务模型</li>
<li>TThreadPoolServer 服务模型</li>
<li>TNonblockingServer 服务模型</li>
<li>THsHaServer服务模型</li>
<li>异步客户端</li>
</ol>
</li>
</ul>
<p><span style="line-height: 22px; color: #0000ff;">[一]、概述</span></p>
<p>Thrift是一个软件框架，用来进行可扩展且跨语言的服务的开发。它结合了功能强大的软件堆栈和代码生成引擎，以构建在 C++, Java, Python, PHP, Ruby, Erlang, Perl, Haskell, C#, Cocoa, JavaScript, Node.js, Smalltalk, and OCaml 等等编程语言间无缝结合的、高效的服务。</p>
<p>Thrift最初由facebook开发，07年四月开放源码，08年5月进入apache孵化器。thrift允许你定义一个简单的定义文件中的数据类型和服务接口。以作为输入文件，编译器生成代码用来方便地生成RPC客户端和服务器通信的无缝跨编程语言。</p>
<p>官网地址：<a href="http://thrift.apache.org/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-article&#39;, &#39;http://thrift.apache.org&#39;, &#39;thrift.apache.org&#39;]);" target="_blank">thrift.apache.org</a></p>
<p>推荐值得一看的文章：</p>
<ul>
<li><span style="line-height: 22px;"><a href="http://jnb.ociweb.com/jnb/jnbJun2009.html" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-article&#39;, &#39;http://jnb.ociweb.com/jnb/jnbJun2009.html&#39;, &#39;http://jnb.ociweb.com/jnb/jnbJun2009.html&#39;]);" target="_blank">http://jnb.ociweb.com/jnb/jnbJun2009.html</a><br>
</span></li>
<li><span style="line-height: 22px;"><a href="http://wiki.apache.org/thrift" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-article&#39;, &#39;http://wiki.apache.org/thrift&#39;, &#39;http://wiki.apache.org/thrift&#39;]);" target="_blank">http://wiki.apache.org/thrift</a></span></li>
<li>http://thrift.apache.org/static/files/thrift-20070401.pdf</li>
</ul>
<p><span style="color: #0000ff;">[二]、下载配置</span></p>
<p>到官网下载最新版本，截止今日（2012-06-11）最新版本为0.8.0.</p>
<p>1. 如果是Maven构建项目的，直接在pom.xml 中添加如下内容：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc094d8588715313" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">XHTML</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;dependency&gt;
  &lt;groupId&gt;org.apache.thrift&lt;/groupId&gt;
  &lt;artifactId&gt;libthrift&lt;/artifactId&gt;
  &lt;version&gt;0.8.0&lt;/version&gt;
&lt;/dependency&gt;</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc094d8588715313-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc094d8588715313-2">2</div><div class="crayon-num" data-line="crayon-585a3efc094d8588715313-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc094d8588715313-4">4</div><div class="crayon-num" data-line="crayon-585a3efc094d8588715313-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc094d8588715313-1"><span class="crayon-r ">&lt;dependency&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc094d8588715313-2"><span class="crayon-i ">&nbsp;&nbsp;</span><span class="crayon-r ">&lt;groupId&gt;</span><span class="crayon-i ">org.apache.thrift</span><span class="crayon-r ">&lt;/groupId&gt;</span></div><div class="crayon-line" id="crayon-585a3efc094d8588715313-3"><span class="crayon-i ">&nbsp;&nbsp;</span><span class="crayon-r ">&lt;artifactId&gt;</span><span class="crayon-i ">libthrift</span><span class="crayon-r ">&lt;/artifactId&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc094d8588715313-4"><span class="crayon-i ">&nbsp;&nbsp;</span><span class="crayon-r ">&lt;version&gt;</span><span class="crayon-i ">0.8.0</span><span class="crayon-r ">&lt;/version&gt;</span></div><div class="crayon-line" id="crayon-585a3efc094d8588715313-5"><span class="crayon-r ">&lt;/dependency&gt;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>2.如果自己编译lib包，把下载的压缩包解压到X:盘，然后在<span style="color: #ff0000;">X:\thrift-0.8.0\lib\java</span> 目录下运行<span style="color: #ff0000;">ant</span>进行自动编译，会在X:\thrift-0.8.0\lib\java\<span style="color: #ff0000;">build\</span> 目录下看到编译好的lib包：<span style="color: #ff0000;">libthrift-0.8.0.jar</span></p>
<p><span style="color: #0000ff;">[三]、基本概念</span></p>
<p><span style="color: #0000ff;">1.数据类型</span></p>
<ul>
<li>基本类型：
<ul>
<li>bool：布尔值，true 或 false，对应 Java 的 boolean</li>
<li>byte：8 位有符号整数，对应 Java 的 byte</li>
<li>i16：16 位有符号整数，对应 Java 的 short</li>
<li>i32：32 位有符号整数，对应 Java 的 int</li>
<li>i64：64 位有符号整数，对应 Java 的 long</li>
<li>double：64 位浮点数，对应 Java 的 double</li>
<li>string：utf-8编码的字符串，对应 Java 的 String</li>
</ul>
</li>
<li>结构体类型：
<ul>
<li>struct：定义公共的对象，类似于 C 语言中的结构体定义，在 Java 中是一个 JavaBean</li>
</ul>
</li>
<li>容器类型：
<ul>
<li>list：对应 Java 的 ArrayList</li>
<li>set：对应 Java 的 HashSet</li>
<li>map：对应 Java 的 HashMap</li>
</ul>
</li>
<li>异常类型：
<ul>
<li>exception：对应 Java 的 Exception</li>
</ul>
</li>
<li>服务类型：
<ul>
<li>service：对应服务的类</li>
</ul>
</li>
</ul>
<p><span style="color: #0000ff;">2.服务端编码基本步骤：</span></p>
<ul>
<li>实现服务处理接口impl</li>
<li>创建TProcessor</li>
<li>创建TServerTransport</li>
<li>创建TProtocol</li>
<li>创建TServer</li>
<li>启动Server</li>
</ul>
<p><span style="color: #0000ff;">3.客户端编码基本步骤：</span></p>
<ul>
<li>创建Transport</li>
<li>创建TProtocol</li>
<li>基于TTransport和TProtocol创建 Client</li>
<li>调用Client的相应方法</li>
</ul>
<p><span style="color: #0000ff;">4.数据传输协议</span></p>
<ul>
<li>TBinaryProtocol : 二进制格式.</li>
<li>TCompactProtocol : 压缩格式</li>
<li>TJSONProtocol : JSON格式</li>
<li>TSimpleJSONProtocol : 提供JSON只写协议, 生成的文件很容易通过脚本语言解析</li>
</ul>
<p>tips:<span style="color: #ff0000;">客户端和服务端的协议要一致</span></p>
<p><span style="color: #0000ff;">[四]、实例演示</span></p>
<p><span style="color: #0000ff;">1.&nbsp;thrift生成代码</span></p>
<p>创建Thrift文件：G:\test\thrift\<span style="color: #ff0000;">demoHello.thrift</span> ,内容如下：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc094ed142967742" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">namespace java com.micmiu.thrift.demo

service  HelloWorldService {
  string sayHello(1:string username)
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc094ed142967742-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc094ed142967742-2">2</div><div class="crayon-num" data-line="crayon-585a3efc094ed142967742-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc094ed142967742-4">4</div><div class="crayon-num" data-line="crayon-585a3efc094ed142967742-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc094ed142967742-1"><span class="crayon-t">namespace</span><span class="crayon-h"> </span><span class="crayon-e">java </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-e">demo</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc094ed142967742-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc094ed142967742-3"><span class="crayon-e">service</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">HelloWorldService</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc094ed142967742-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-e">sayHello</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">username</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-585a3efc094ed142967742-5"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>目录结构如下：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc094f5287733092" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">G:\test\thrift&amp;gt;tree /F
卷 other 的文件夹 PATH 列表
卷序列号为 D238-BE47
G:.
    demoHello.thrift
    demouser.thrift
    thrift-0.8.0.exe

没有子文件夹</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc094f5287733092-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc094f5287733092-2">2</div><div class="crayon-num" data-line="crayon-585a3efc094f5287733092-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc094f5287733092-4">4</div><div class="crayon-num" data-line="crayon-585a3efc094f5287733092-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc094f5287733092-6">6</div><div class="crayon-num" data-line="crayon-585a3efc094f5287733092-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc094f5287733092-8">8</div><div class="crayon-num" data-line="crayon-585a3efc094f5287733092-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc094f5287733092-1"><span class="crayon-v">G</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">test</span><span class="crayon-sy">\</span><span class="crayon-v">thrift</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-v">tree</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-i">F</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc094f5287733092-2">卷<span class="crayon-h"> </span><span class="crayon-i">other</span><span class="crayon-h"> </span>的文件夹<span class="crayon-h"> </span><span class="crayon-i">PATH</span><span class="crayon-h"> </span>列表</div><div class="crayon-line" id="crayon-585a3efc094f5287733092-3">卷序列号为<span class="crayon-h"> </span><span class="crayon-v">D238</span><span class="crayon-o">-</span><span class="crayon-i">BE47</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc094f5287733092-4"><span class="crayon-v">G</span><span class="crayon-o">:</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-585a3efc094f5287733092-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">demoHello</span><span class="crayon-sy">.</span><span class="crayon-e">thrift</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc094f5287733092-6"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">demouser</span><span class="crayon-sy">.</span><span class="crayon-e">thrift</span></div><div class="crayon-line" id="crayon-585a3efc094f5287733092-7"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">thrift</span><span class="crayon-o">-</span><span class="crayon-cn">0.8.0.exe</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc094f5287733092-8">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc094f5287733092-9">没有子文件夹</div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p><span style="color: #ff0000;">thrift-0.8.0.exe</span> 是官网提供的windows下编译工具，运用这个工具生成相关代码：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc094fc898760109" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">thrift-0.8.0.exe -r -gen java ./demoHello.thrift</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc094fc898760109-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc094fc898760109-1"><span class="crayon-v">thrift</span><span class="crayon-o">-</span><span class="crayon-cn">0.8.0.exe</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">r</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">gen </span><span class="crayon-i">java</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-o">/</span><span class="crayon-v">demoHello</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p>生成后的目录结构如下：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09502612559715" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">G:\test\thrift&amp;gt;tree /F
卷 other 的文件夹 PATH 列表
卷序列号为 D238-BE47
G:.
│  demoHello.thrift
│  demouser.thrift
│  thrift-0.8.0.exe
│
└─gen-java
    └─com
        └─micmiu
            └─thrift
                └─demo
                        HelloWorldService.java</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09502612559715-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09502612559715-2">2</div><div class="crayon-num" data-line="crayon-585a3efc09502612559715-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09502612559715-4">4</div><div class="crayon-num" data-line="crayon-585a3efc09502612559715-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09502612559715-6">6</div><div class="crayon-num" data-line="crayon-585a3efc09502612559715-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09502612559715-8">8</div><div class="crayon-num" data-line="crayon-585a3efc09502612559715-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09502612559715-10">10</div><div class="crayon-num" data-line="crayon-585a3efc09502612559715-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09502612559715-12">12</div><div class="crayon-num" data-line="crayon-585a3efc09502612559715-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09502612559715-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09502612559715-1"><span class="crayon-v">G</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">test</span><span class="crayon-sy">\</span><span class="crayon-v">thrift</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-v">tree</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-i">F</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09502612559715-2">卷<span class="crayon-h"> </span><span class="crayon-i">other</span><span class="crayon-h"> </span>的文件夹<span class="crayon-h"> </span><span class="crayon-i">PATH</span><span class="crayon-h"> </span>列表</div><div class="crayon-line" id="crayon-585a3efc09502612559715-3">卷序列号为<span class="crayon-h"> </span><span class="crayon-v">D238</span><span class="crayon-o">-</span><span class="crayon-i">BE47</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09502612559715-4"><span class="crayon-v">G</span><span class="crayon-o">:</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-585a3efc09502612559715-5">│<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">demoHello</span><span class="crayon-sy">.</span><span class="crayon-i">thrift</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09502612559715-6">│<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">demouser</span><span class="crayon-sy">.</span><span class="crayon-i">thrift</span></div><div class="crayon-line" id="crayon-585a3efc09502612559715-7">│<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">thrift</span><span class="crayon-o">-</span><span class="crayon-cn">0.8.0.exe</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09502612559715-8">│</div><div class="crayon-line" id="crayon-585a3efc09502612559715-9">└─<span class="crayon-v">gen</span><span class="crayon-o">-</span><span class="crayon-i">java</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09502612559715-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>└─<span class="crayon-i">com</span></div><div class="crayon-line" id="crayon-585a3efc09502612559715-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>└─<span class="crayon-i">micmiu</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09502612559715-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>└─<span class="crayon-i">thrift</span></div><div class="crayon-line" id="crayon-585a3efc09502612559715-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>└─<span class="crayon-e">demo</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09502612559715-14"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">java</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0040 seconds] -->
<p>将生成的<span style="color: #ff0000;">HelloWorldService.java</span> 文件copy到自己测试的工程中，我的工程是用maven构建的，故在<span style="color: #ff0000;">pom.xml</span>中增加如下内容：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09509161996693" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div><span class="crayon-language">XHTML</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important; margin-top: -18px; display: none;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">&lt;dependency&gt;
	&lt;groupId&gt;org.apache.thrift&lt;/groupId&gt;
	&lt;artifactId&gt;libthrift&lt;/artifactId&gt;
	&lt;version&gt;0.8.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
	&lt;groupId&gt;org.slf4j&lt;/groupId&gt;
	&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
	&lt;version&gt;1.5.8&lt;/version&gt;
&lt;/dependency&gt;</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09509161996693-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09509161996693-2">2</div><div class="crayon-num" data-line="crayon-585a3efc09509161996693-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09509161996693-4">4</div><div class="crayon-num" data-line="crayon-585a3efc09509161996693-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09509161996693-6">6</div><div class="crayon-num" data-line="crayon-585a3efc09509161996693-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09509161996693-8">8</div><div class="crayon-num" data-line="crayon-585a3efc09509161996693-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09509161996693-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09509161996693-1"><span class="crayon-r ">&lt;dependency&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09509161996693-2"><span class="crayon-i ">	</span><span class="crayon-r ">&lt;groupId&gt;</span><span class="crayon-i ">org.apache.thrift</span><span class="crayon-r ">&lt;/groupId&gt;</span></div><div class="crayon-line" id="crayon-585a3efc09509161996693-3"><span class="crayon-i ">	</span><span class="crayon-r ">&lt;artifactId&gt;</span><span class="crayon-i ">libthrift</span><span class="crayon-r ">&lt;/artifactId&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09509161996693-4"><span class="crayon-i ">	</span><span class="crayon-r ">&lt;version&gt;</span><span class="crayon-i ">0.8.0</span><span class="crayon-r ">&lt;/version&gt;</span></div><div class="crayon-line" id="crayon-585a3efc09509161996693-5"><span class="crayon-r ">&lt;/dependency&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09509161996693-6"><span class="crayon-r ">&lt;dependency&gt;</span></div><div class="crayon-line" id="crayon-585a3efc09509161996693-7"><span class="crayon-i ">	</span><span class="crayon-r ">&lt;groupId&gt;</span><span class="crayon-i ">org.slf4j</span><span class="crayon-r ">&lt;/groupId&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09509161996693-8"><span class="crayon-i ">	</span><span class="crayon-r ">&lt;artifactId&gt;</span><span class="crayon-i ">slf4j-log4j12</span><span class="crayon-r ">&lt;/artifactId&gt;</span></div><div class="crayon-line" id="crayon-585a3efc09509161996693-9"><span class="crayon-i ">	</span><span class="crayon-r ">&lt;version&gt;</span><span class="crayon-i ">1.5.8</span><span class="crayon-r ">&lt;/version&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09509161996693-10"><span class="crayon-r ">&lt;/dependency&gt;</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p><span style="color: #0000ff;">2. 实现接口Iface</span></p>
<p>java代码：<span style="color: #ff0000;">HelloWorldImpl.java</span></p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09510332310813" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import org.apache.thrift.TException;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloWorldImpl implements HelloWorldService.Iface {

	public HelloWorldImpl() {
	}

	@Override
	public String sayHello(String username) throws TException {
		return "Hi," + username + " welcome to my blog www.micmiu.com";
	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09510332310813-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-2">2</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-4">4</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-6">6</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-8">8</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-10">10</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-12">12</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-14">14</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-16">16</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-18">18</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09510332310813-20">20</div><div class="crayon-num" data-line="crayon-585a3efc09510332310813-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09510332310813-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09510332310813-3"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-4">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09510332310813-5"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-6"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line" id="crayon-585a3efc09510332310813-7"><span class="crayon-c"> *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-8"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line" id="crayon-585a3efc09510332310813-9"><span class="crayon-c"> *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-10"><span class="crayon-c"> */</span></div><div class="crayon-line" id="crayon-585a3efc09510332310813-11"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloWorldImpl </span><span class="crayon-r">implements</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-i">Iface</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-12">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09510332310813-13"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">HelloWorldImpl</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-14"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09510332310813-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-16"><span class="crayon-h">	</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line" id="crayon-585a3efc09510332310813-17"><span class="crayon-e">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-e">sayHello</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">username</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">throws</span><span class="crayon-h"> </span><span class="crayon-e">TException</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-18"><span class="crayon-h">		</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">"Hi,"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">username</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" welcome to my blog www.micmiu.com"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09510332310813-19"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09510332310813-20">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09510332310813-21"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0055 seconds] -->
<p><span style="color: #0000ff;">3.TSimpleServer服务端</span></p>
<p><span style="color: #ff0000;">简单的单线程服务模型，一般用于测试。</span></p>
<p>编写<span style="color: #ff0000;">服务端server</span>代码：HelloServerDemo.java</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09518698446413" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important; margin-top: -18px; display: none;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import org.apache.thrift.TProcessor;
import org.apache.thrift.protocol.TBinaryProtocol;
import org.apache.thrift.protocol.TCompactProtocol;
import org.apache.thrift.protocol.TJSONProtocol;
import org.apache.thrift.protocol.TSimpleJSONProtocol;
import org.apache.thrift.server.TServer;
import org.apache.thrift.server.TSimpleServer;
import org.apache.thrift.transport.TServerSocket;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloServerDemo {
	public static final int SERVER_PORT = 8090;

	public void startServer() {
		try {
			System.out.println("HelloWorld TSimpleServer start ....");

			TProcessor tprocessor = new HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt;(
					new HelloWorldImpl());
			// HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt; tprocessor =
			// new HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt;(
			// new HelloWorldImpl());

			// 简单的单线程服务模型，一般用于测试
			TServerSocket serverTransport = new TServerSocket(SERVER_PORT);
			TServer.Args tArgs = new TServer.Args(serverTransport);
			tArgs.processor(tprocessor);
			tArgs.protocolFactory(new TBinaryProtocol.Factory());
			// tArgs.protocolFactory(new TCompactProtocol.Factory());
			// tArgs.protocolFactory(new TJSONProtocol.Factory());
			TServer server = new TSimpleServer(tArgs);
			server.serve();

		} catch (Exception e) {
			System.out.println("Server start error!!!");
			e.printStackTrace();
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		HelloServerDemo server = new HelloServerDemo();
		server.startServer();
	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09518698446413-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-2">2</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-4">4</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-6">6</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-8">8</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-10">10</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-12">12</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-14">14</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-16">16</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-18">18</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-20">20</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-22">22</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-24">24</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-26">26</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-28">28</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-30">30</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-32">32</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-34">34</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-36">36</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-38">38</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-40">40</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-42">42</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-44">44</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-46">46</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-48">48</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-50">50</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-52">52</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09518698446413-54">54</div><div class="crayon-num" data-line="crayon-585a3efc09518698446413-55">55</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09518698446413-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09518698446413-3"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TProcessor</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-4"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TBinaryProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-5"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-6"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TJSONProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-7"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TSimpleJSONProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-8"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TServer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-9"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TSimpleServer</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-10"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TServerSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-12"><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-13"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-14"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-15"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-16"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-17"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-18"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-19"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8090</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-20">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09518698446413-21"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-22"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-23"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"HelloWorld TSimpleServer start ...."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-24">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09518698446413-25"><span class="crayon-h">			</span><span class="crayon-e">TProcessor </span><span class="crayon-v">tprocessor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Processor</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Iface</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-26"><span class="crayon-h">					</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloWorldImpl</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-27"><span class="crayon-h">			</span><span class="crayon-c">// HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt; tprocessor =</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-28"><span class="crayon-h">			</span><span class="crayon-c">// new HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt;(</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-29"><span class="crayon-h">			</span><span class="crayon-c">// new HelloWorldImpl());</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-30">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09518698446413-31"><span class="crayon-h">			</span><span class="crayon-c">// 简单的单线程服务模型，一般用于测试</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-32"><span class="crayon-h">			</span><span class="crayon-e">TServerSocket </span><span class="crayon-v">serverTransport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TServerSocket</span><span class="crayon-sy">(</span><span class="crayon-v">SERVER_PORT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-33"><span class="crayon-h">			</span><span class="crayon-v">TServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args </span><span class="crayon-v">tArgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args</span><span class="crayon-sy">(</span><span class="crayon-v">serverTransport</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-34"><span class="crayon-h">			</span><span class="crayon-v">tArgs</span><span class="crayon-sy">.</span><span class="crayon-e">processor</span><span class="crayon-sy">(</span><span class="crayon-v">tprocessor</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-35"><span class="crayon-h">			</span><span class="crayon-v">tArgs</span><span class="crayon-sy">.</span><span class="crayon-e">protocolFactory</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TBinaryProtocol</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-36"><span class="crayon-h">			</span><span class="crayon-c">// tArgs.protocolFactory(new TCompactProtocol.Factory());</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-37"><span class="crayon-h">			</span><span class="crayon-c">// tArgs.protocolFactory(new TJSONProtocol.Factory());</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-38"><span class="crayon-h">			</span><span class="crayon-e">TServer </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TSimpleServer</span><span class="crayon-sy">(</span><span class="crayon-v">tArgs</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-39"><span class="crayon-h">			</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">serve</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-40">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09518698446413-41"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-42"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Server start error!!!"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-43"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-44"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-45"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-46">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09518698446413-47"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-48"><span class="crayon-c">	 * @param args</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-49"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-50"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-51"><span class="crayon-h">		</span><span class="crayon-e">HelloServerDemo </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-52"><span class="crayon-h">		</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09518698446413-53"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09518698446413-54">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09518698446413-55"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0214 seconds] -->
<p>编写<span style="color: #ff0000;">客户端Client</span>代码：HelloClientDemo.java</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09522493948543" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important; margin-top: -18px; display: none;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import org.apache.thrift.TException;
import org.apache.thrift.protocol.TBinaryProtocol;
import org.apache.thrift.protocol.TCompactProtocol;
import org.apache.thrift.protocol.TJSONProtocol;
import org.apache.thrift.protocol.TProtocol;
import org.apache.thrift.transport.TSocket;
import org.apache.thrift.transport.TTransport;
import org.apache.thrift.transport.TTransportException;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloClientDemo {

	public static final String SERVER_IP = "localhost";
	public static final int SERVER_PORT = 8090;
	public static final int TIMEOUT = 30000;

	/**
	 *
	 * @param userName
	 */
	public void startClient(String userName) {
		TTransport transport = null;
		try {
			transport = new TSocket(SERVER_IP, SERVER_PORT, TIMEOUT);
			// 协议要和服务端一致
			TProtocol protocol = new TBinaryProtocol(transport);
			// TProtocol protocol = new TCompactProtocol(transport);
			// TProtocol protocol = new TJSONProtocol(transport);
			HelloWorldService.Client client = new HelloWorldService.Client(
					protocol);
			transport.open();
			String result = client.sayHello(userName);
			System.out.println("Thrify client result =: " + result);
		} catch (TTransportException e) {
			e.printStackTrace();
		} catch (TException e) {
			e.printStackTrace();
		} finally {
			if (null != transport) {
				transport.close();
			}
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		HelloClientDemo client = new HelloClientDemo();
		client.startClient("Michael");

	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09522493948543-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-2">2</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-4">4</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-6">6</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-8">8</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-10">10</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-12">12</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-14">14</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-16">16</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-18">18</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-20">20</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-22">22</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-24">24</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-26">26</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-28">28</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-30">30</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-32">32</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-34">34</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-36">36</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-38">38</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-40">40</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-42">42</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-44">44</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-46">46</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-48">48</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-50">50</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-52">52</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-54">54</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-56">56</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-58">58</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09522493948543-60">60</div><div class="crayon-num" data-line="crayon-585a3efc09522493948543-61">61</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09522493948543-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09522493948543-3"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-4"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TBinaryProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-5"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-6"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TJSONProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-7"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-8"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-9"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TTransport</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-10"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TTransportException</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-12"><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-13"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-14"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-15"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-16"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-17"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-18"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloClientDemo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-20"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_IP</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"localhost"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-21"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8090</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-22"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">TIMEOUT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30000</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-24"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-25"><span class="crayon-c">	 *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-26"><span class="crayon-c">	 * @param userName</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-27"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-28"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startClient</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">userName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-29"><span class="crayon-h">		</span><span class="crayon-e">TTransport </span><span class="crayon-v">transport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-30"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-31"><span class="crayon-h">			</span><span class="crayon-v">transport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TSocket</span><span class="crayon-sy">(</span><span class="crayon-v">SERVER_IP</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">TIMEOUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-32"><span class="crayon-h">			</span><span class="crayon-c">// 协议要和服务端一致</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-33"><span class="crayon-h">			</span><span class="crayon-e">TProtocol </span><span class="crayon-v">protocol</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TBinaryProtocol</span><span class="crayon-sy">(</span><span class="crayon-v">transport</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-34"><span class="crayon-h">			</span><span class="crayon-c">// TProtocol protocol = new TCompactProtocol(transport);</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-35"><span class="crayon-h">			</span><span class="crayon-c">// TProtocol protocol = new TJSONProtocol(transport);</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-36"><span class="crayon-h">			</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-e">Client </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-e">Client</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-37"><span class="crayon-h">					</span><span class="crayon-v">protocol</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-38"><span class="crayon-h">			</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-39"><span class="crayon-h">			</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">sayHello</span><span class="crayon-sy">(</span><span class="crayon-v">userName</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-40"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Thrify client result =: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-41"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">TTransportException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-42"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-43"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">TException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-44"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-45"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">finally</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-46"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-v">transport</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-47"><span class="crayon-h">				</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-48"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-49"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-50"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-52"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-53"><span class="crayon-c">	 * @param args</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-54"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-55"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-56"><span class="crayon-h">		</span><span class="crayon-e">HelloClientDemo </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloClientDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09522493948543-57"><span class="crayon-h">		</span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">startClient</span><span class="crayon-sy">(</span><span class="crayon-s">"Michael"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-58">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09522493948543-59"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09522493948543-60">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09522493948543-61"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0239 seconds] -->
<p>先运行服务端程序，日志如下：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc0952d049505583" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">HelloWorld TSimpleServer start ....</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc0952d049505583-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc0952d049505583-1"><span class="crayon-e">HelloWorld </span><span class="crayon-e">TSimpleServer </span><span class="crayon-i">start</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>再运行客户端调用程序，日志如下：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09536615494807" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">Thrify client result =: Hi,Michael welcome to my blog www.micmiu.com</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09536615494807-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09536615494807-1"><span class="crayon-e">Thrify </span><span class="crayon-e">client </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Hi</span><span class="crayon-sy">,</span><span class="crayon-e">Michael </span><span class="crayon-e">welcome </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">my </span><span class="crayon-e">blog </span><span class="crayon-v">www</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>测试成功，和预期的返回信息一致。</p>
<p><span style="color: #0000ff;">4.TThreadPoolServer&nbsp;服务模型</span></p>
<p>线程池服务模型，<span style="color: #ff0000;">使用标准的阻塞式IO</span>，预先创建一组线程处理请求。</p>
<p>编写服务端代码：<span style="color: #ff0000;">HelloServerDemo.java</span></p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc0953e985781179" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import org.apache.thrift.TProcessor;
import org.apache.thrift.protocol.TBinaryProtocol;
import org.apache.thrift.server.TServer;
import org.apache.thrift.server.TThreadPoolServer;
import org.apache.thrift.transport.TServerSocket;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloServerDemo {
	public static final int SERVER_PORT = 8090;

	public void startServer() {
		try {
			System.out.println("HelloWorld TThreadPoolServer start ....");

			TProcessor tprocessor = new HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt;(
					new HelloWorldImpl());

			 TServerSocket serverTransport = new TServerSocket(SERVER_PORT);
			 TThreadPoolServer.Args ttpsArgs = new TThreadPoolServer.Args(
			 serverTransport);
			 ttpsArgs.processor(tprocessor);
			 ttpsArgs.protocolFactory(new TBinaryProtocol.Factory());

			// 线程池服务模型，使用标准的阻塞式IO，预先创建一组线程处理请求。
			 TServer server = new TThreadPoolServer(ttpsArgs);
			 server.serve();

		} catch (Exception e) {
			System.out.println("Server start error!!!");
			e.printStackTrace();
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		HelloServerDemo server = new HelloServerDemo();
		server.startServer();
	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-2">2</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-4">4</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-6">6</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-8">8</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-10">10</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-12">12</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-14">14</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-16">16</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-18">18</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-20">20</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-22">22</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-24">24</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-26">26</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-28">28</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-30">30</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-32">32</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-34">34</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-36">36</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-38">38</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-40">40</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-42">42</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-44">44</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-46">46</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0953e985781179-48">48</div><div class="crayon-num" data-line="crayon-585a3efc0953e985781179-49">49</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc0953e985781179-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0953e985781179-3"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TProcessor</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-4"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TBinaryProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-5"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TServer</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-6"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TThreadPoolServer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-7"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TServerSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-8">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0953e985781179-9"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-10"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-11"><span class="crayon-c"> *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-12"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-13"><span class="crayon-c"> *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-14"><span class="crayon-c"> */</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-15"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-16"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8090</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-18"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-19"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-20"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"HelloWorld TThreadPoolServer start ...."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-22"><span class="crayon-h">			</span><span class="crayon-e">TProcessor </span><span class="crayon-v">tprocessor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Processor</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Iface</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-23"><span class="crayon-h">					</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloWorldImpl</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-24">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0953e985781179-25"><span class="crayon-h">			 </span><span class="crayon-e">TServerSocket </span><span class="crayon-v">serverTransport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TServerSocket</span><span class="crayon-sy">(</span><span class="crayon-v">SERVER_PORT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-26"><span class="crayon-h">			 </span><span class="crayon-v">TThreadPoolServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args </span><span class="crayon-v">ttpsArgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TThreadPoolServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-27"><span class="crayon-h">			 </span><span class="crayon-v">serverTransport</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-28"><span class="crayon-h">			 </span><span class="crayon-v">ttpsArgs</span><span class="crayon-sy">.</span><span class="crayon-e">processor</span><span class="crayon-sy">(</span><span class="crayon-v">tprocessor</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-29"><span class="crayon-h">			 </span><span class="crayon-v">ttpsArgs</span><span class="crayon-sy">.</span><span class="crayon-e">protocolFactory</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TBinaryProtocol</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-30">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0953e985781179-31"><span class="crayon-h">			</span><span class="crayon-c">// 线程池服务模型，使用标准的阻塞式IO，预先创建一组线程处理请求。</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-32"><span class="crayon-h">			 </span><span class="crayon-e">TServer </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TThreadPoolServer</span><span class="crayon-sy">(</span><span class="crayon-v">ttpsArgs</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-33"><span class="crayon-h">			 </span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">serve</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-34">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0953e985781179-35"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-36"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Server start error!!!"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-37"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-38"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-39"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-40">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0953e985781179-41"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-42"><span class="crayon-c">	 * @param args</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-43"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-44"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-45"><span class="crayon-h">		</span><span class="crayon-e">HelloServerDemo </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-46"><span class="crayon-h">		</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0953e985781179-47"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0953e985781179-48">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0953e985781179-49"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0184 seconds] -->
<p>客户端Client代码和之前的一样，<span style="color: #ff0000;">只要数据传输的协议一致即可，</span>客户端测试成功，结果如下：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09548419662471" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">Thrify client result =: Hi,Michael welcome to my blog www.micmiu.com</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09548419662471-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09548419662471-1"><span class="crayon-e">Thrify </span><span class="crayon-e">client </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Hi</span><span class="crayon-sy">,</span><span class="crayon-e">Michael </span><span class="crayon-e">welcome </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">my </span><span class="crayon-e">blog </span><span class="crayon-v">www</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p><span style="color: #0000ff;">5.TNonblockingServer 服务模型</span></p>
<p>使用<span style="color: #ff0000;">非阻塞式IO</span>，服务端和客户端需要指定 <span style="color: #ff0000;">TFramedTransport</span> 数据传输的方式。</p>
<p>编写服务端代码：<span style="color: #ff0000;">HelloServerDemo.java</span></p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09551645921064" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import org.apache.thrift.TProcessor;
import org.apache.thrift.protocol.TCompactProtocol;
import org.apache.thrift.server.TNonblockingServer;
import org.apache.thrift.server.TServer;
import org.apache.thrift.transport.TFramedTransport;
import org.apache.thrift.transport.TNonblockingServerSocket;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloServerDemo {
	public static final int SERVER_PORT = 8090;

	public void startServer() {
		try {
			System.out.println("HelloWorld TNonblockingServer start ....");

			TProcessor tprocessor = new HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt;(
					new HelloWorldImpl());

			TNonblockingServerSocket tnbSocketTransport = new TNonblockingServerSocket(
					SERVER_PORT);
			TNonblockingServer.Args tnbArgs = new TNonblockingServer.Args(
					tnbSocketTransport);
			tnbArgs.processor(tprocessor);
			tnbArgs.transportFactory(new TFramedTransport.Factory());
			tnbArgs.protocolFactory(new TCompactProtocol.Factory());

			// 使用非阻塞式IO，服务端和客户端需要指定TFramedTransport数据传输的方式
			TServer server = new TNonblockingServer(tnbArgs);
			server.serve();

		} catch (Exception e) {
			System.out.println("Server start error!!!");
			e.printStackTrace();
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		HelloServerDemo server = new HelloServerDemo();
		server.startServer();
	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09551645921064-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-2">2</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-4">4</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-6">6</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-8">8</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-10">10</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-12">12</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-14">14</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-16">16</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-18">18</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-20">20</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-22">22</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-24">24</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-26">26</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-28">28</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-30">30</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-32">32</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-34">34</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-36">36</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-38">38</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-40">40</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-42">42</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-44">44</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-46">46</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-48">48</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-50">50</div><div class="crayon-num" data-line="crayon-585a3efc09551645921064-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09551645921064-52">52</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09551645921064-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09551645921064-3"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TProcessor</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-4"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-5"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TNonblockingServer</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-6"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TServer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-7"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TFramedTransport</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-8"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TNonblockingServerSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-10"><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-11"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-12"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-13"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-14"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-15"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-16"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-17"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8090</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-18">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09551645921064-19"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-20"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-21"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"HelloWorld TNonblockingServer start ...."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-22">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09551645921064-23"><span class="crayon-h">			</span><span class="crayon-e">TProcessor </span><span class="crayon-v">tprocessor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Processor</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Iface</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-24"><span class="crayon-h">					</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloWorldImpl</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-26"><span class="crayon-h">			</span><span class="crayon-e">TNonblockingServerSocket </span><span class="crayon-v">tnbSocketTransport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TNonblockingServerSocket</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-27"><span class="crayon-h">					</span><span class="crayon-v">SERVER_PORT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-28"><span class="crayon-h">			</span><span class="crayon-v">TNonblockingServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args </span><span class="crayon-v">tnbArgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TNonblockingServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-29"><span class="crayon-h">					</span><span class="crayon-v">tnbSocketTransport</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-30"><span class="crayon-h">			</span><span class="crayon-v">tnbArgs</span><span class="crayon-sy">.</span><span class="crayon-e">processor</span><span class="crayon-sy">(</span><span class="crayon-v">tprocessor</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-31"><span class="crayon-h">			</span><span class="crayon-v">tnbArgs</span><span class="crayon-sy">.</span><span class="crayon-e">transportFactory</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TFramedTransport</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-32"><span class="crayon-h">			</span><span class="crayon-v">tnbArgs</span><span class="crayon-sy">.</span><span class="crayon-e">protocolFactory</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-34"><span class="crayon-h">			</span><span class="crayon-c">// 使用非阻塞式IO，服务端和客户端需要指定TFramedTransport数据传输的方式</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-35"><span class="crayon-h">			</span><span class="crayon-e">TServer </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TNonblockingServer</span><span class="crayon-sy">(</span><span class="crayon-v">tnbArgs</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-36"><span class="crayon-h">			</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">serve</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-38"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-39"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Server start error!!!"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-40"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-41"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-42"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-44"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-45"><span class="crayon-c">	 * @param args</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-46"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-47"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-48"><span class="crayon-h">		</span><span class="crayon-e">HelloServerDemo </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-49"><span class="crayon-h">		</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-50"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09551645921064-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09551645921064-52"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0114 seconds] -->
<p>编写客户端代码：<span style="color: #ff0000;">HelloClientDemo.java</span></p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc0955b561878825" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import org.apache.thrift.TException;
import org.apache.thrift.protocol.TCompactProtocol;
import org.apache.thrift.protocol.TProtocol;
import org.apache.thrift.transport.TFramedTransport;
import org.apache.thrift.transport.TSocket;
import org.apache.thrift.transport.TTransport;
import org.apache.thrift.transport.TTransportException;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloClientDemo {

	public static final String SERVER_IP = "localhost";
	public static final int SERVER_PORT = 8090;
	public static final int TIMEOUT = 30000;

	/**
	 *
	 * @param userName
	 */
	public void startClient(String userName) {
		TTransport transport = null;
		try {
			transport = new TFramedTransport(new TSocket(SERVER_IP,
					SERVER_PORT, TIMEOUT));
			// 协议要和服务端一致
			TProtocol protocol = new TCompactProtocol(transport);
			HelloWorldService.Client client = new HelloWorldService.Client(
					protocol);
			transport.open();
			String result = client.sayHello(userName);
			System.out.println("Thrify client result =: " + result);
		} catch (TTransportException e) {
			e.printStackTrace();
		} catch (TException e) {
			e.printStackTrace();
		} finally {
			if (null != transport) {
				transport.close();
			}
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		HelloClientDemo client = new HelloClientDemo();
		client.startClient("Michael");

	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-2">2</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-4">4</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-6">6</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-8">8</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-10">10</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-12">12</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-14">14</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-16">16</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-18">18</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-20">20</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-22">22</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-24">24</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-26">26</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-28">28</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-30">30</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-32">32</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-34">34</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-36">36</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-38">38</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-40">40</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-42">42</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-44">44</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-46">46</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-48">48</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-50">50</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-52">52</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-54">54</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-56">56</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0955b561878825-58">58</div><div class="crayon-num" data-line="crayon-585a3efc0955b561878825-59">59</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc0955b561878825-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0955b561878825-3"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-4"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-5"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-6"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TFramedTransport</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-7"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-8"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TTransport</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-9"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TTransportException</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-10">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0955b561878825-11"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-12"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-13"><span class="crayon-c"> *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-14"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-15"><span class="crayon-c"> *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-16"><span class="crayon-c"> */</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-17"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloClientDemo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-18">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0955b561878825-19"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_IP</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"localhost"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-20"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8090</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-21"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">TIMEOUT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30000</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-22">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0955b561878825-23"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-24"><span class="crayon-c">	 *</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-25"><span class="crayon-c">	 * @param userName</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-26"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-27"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startClient</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">userName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-28"><span class="crayon-h">		</span><span class="crayon-e">TTransport </span><span class="crayon-v">transport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-29"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-30"><span class="crayon-h">			</span><span class="crayon-v">transport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TFramedTransport</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TSocket</span><span class="crayon-sy">(</span><span class="crayon-v">SERVER_IP</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-31"><span class="crayon-h">					</span><span class="crayon-v">SERVER_PORT</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">TIMEOUT</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-32"><span class="crayon-h">			</span><span class="crayon-c">// 协议要和服务端一致</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-33"><span class="crayon-h">			</span><span class="crayon-e">TProtocol </span><span class="crayon-v">protocol</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TCompactProtocol</span><span class="crayon-sy">(</span><span class="crayon-v">transport</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-34"><span class="crayon-h">			</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-e">Client </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-e">Client</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-35"><span class="crayon-h">					</span><span class="crayon-v">protocol</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-36"><span class="crayon-h">			</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-37"><span class="crayon-h">			</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">sayHello</span><span class="crayon-sy">(</span><span class="crayon-v">userName</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-38"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Thrify client result =: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">result</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-39"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">TTransportException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-40"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-41"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">TException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-42"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-43"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">finally</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-44"><span class="crayon-h">			</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-v">transport</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-45"><span class="crayon-h">				</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-46"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-47"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-48"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-49">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-50"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-51"><span class="crayon-c">	 * @param args</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-52"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-53"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-54"><span class="crayon-h">		</span><span class="crayon-e">HelloClientDemo </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloClientDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0955b561878825-55"><span class="crayon-h">		</span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">startClient</span><span class="crayon-sy">(</span><span class="crayon-s">"Michael"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-56">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0955b561878825-57"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0955b561878825-58">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0955b561878825-59"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0142 seconds] -->
<p>客户端的测试成功，结果如下：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09566998939837" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">Thrify client result =: Hi,Michael welcome to my blog www.micmiu.com</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09566998939837-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09566998939837-1"><span class="crayon-e">Thrify </span><span class="crayon-e">client </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">Hi</span><span class="crayon-sy">,</span><span class="crayon-e">Michael </span><span class="crayon-e">welcome </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">my </span><span class="crayon-e">blog </span><span class="crayon-v">www</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">com</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p><span style="color: #0000ff;">6.THsHaServer服务模型</span></p>
<p>半同步半异步的服务端模型，需要指定为： <span style="color: #ff0000;">TFramedTransport</span> 数据传输的方式。</p>
<p>编写服务端代码：<span style="color: #ff0000;">HelloServerDemo.java</span></p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc0956f683807347" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import org.apache.thrift.TProcessor;
import org.apache.thrift.protocol.TBinaryProtocol;
import org.apache.thrift.protocol.TCompactProtocol;
import org.apache.thrift.server.THsHaServer;
import org.apache.thrift.server.TNonblockingServer;
import org.apache.thrift.server.TServer;
import org.apache.thrift.server.TSimpleServer;
import org.apache.thrift.server.TThreadPoolServer;
import org.apache.thrift.transport.TFramedTransport;
import org.apache.thrift.transport.TNonblockingServerSocket;
import org.apache.thrift.transport.TServerSocket;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloServerDemo {
	public static final int SERVER_PORT = 8090;

	public void startServer() {
		try {
			System.out.println("HelloWorld THsHaServer start ....");

			TProcessor tprocessor = new HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt;(
					new HelloWorldImpl());

			TNonblockingServerSocket tnbSocketTransport = new TNonblockingServerSocket(
					SERVER_PORT);
			THsHaServer.Args thhsArgs = new THsHaServer.Args(tnbSocketTransport);
			thhsArgs.processor(tprocessor);
			thhsArgs.transportFactory(new TFramedTransport.Factory());
			thhsArgs.protocolFactory(new TBinaryProtocol.Factory());

			//半同步半异步的服务模型
			TServer server = new THsHaServer(thhsArgs);
			server.serve();

		} catch (Exception e) {
			System.out.println("Server start error!!!");
			e.printStackTrace();
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		HelloServerDemo server = new HelloServerDemo();
		server.startServer();
	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-2">2</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-4">4</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-6">6</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-8">8</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-10">10</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-12">12</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-14">14</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-16">16</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-18">18</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-20">20</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-22">22</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-24">24</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-26">26</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-28">28</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-30">30</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-32">32</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-34">34</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-36">36</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-38">38</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-40">40</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-42">42</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-44">44</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-46">46</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-48">48</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-50">50</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-52">52</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-54">54</div><div class="crayon-num" data-line="crayon-585a3efc0956f683807347-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0956f683807347-56">56</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc0956f683807347-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0956f683807347-3"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TProcessor</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-4"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TBinaryProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-5"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-6"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">THsHaServer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-7"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TNonblockingServer</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-8"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TServer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-9"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TSimpleServer</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-10"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TThreadPoolServer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-11"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TFramedTransport</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-12"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TNonblockingServerSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-13"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TServerSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-14">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0956f683807347-15"><span class="crayon-c">/**</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-16"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-17"><span class="crayon-c"> *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-18"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-19"><span class="crayon-c"> *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-20"><span class="crayon-c"> */</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-21"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-22"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8090</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-24"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-25"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-26"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"HelloWorld THsHaServer start ...."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-28"><span class="crayon-h">			</span><span class="crayon-e">TProcessor </span><span class="crayon-v">tprocessor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Processor</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Iface</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-29"><span class="crayon-h">					</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloWorldImpl</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-30">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0956f683807347-31"><span class="crayon-h">			</span><span class="crayon-e">TNonblockingServerSocket </span><span class="crayon-v">tnbSocketTransport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TNonblockingServerSocket</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-32"><span class="crayon-h">					</span><span class="crayon-v">SERVER_PORT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-33"><span class="crayon-h">			</span><span class="crayon-v">THsHaServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args </span><span class="crayon-v">thhsArgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">THsHaServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args</span><span class="crayon-sy">(</span><span class="crayon-v">tnbSocketTransport</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-34"><span class="crayon-h">			</span><span class="crayon-v">thhsArgs</span><span class="crayon-sy">.</span><span class="crayon-e">processor</span><span class="crayon-sy">(</span><span class="crayon-v">tprocessor</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-35"><span class="crayon-h">			</span><span class="crayon-v">thhsArgs</span><span class="crayon-sy">.</span><span class="crayon-e">transportFactory</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TFramedTransport</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-36"><span class="crayon-h">			</span><span class="crayon-v">thhsArgs</span><span class="crayon-sy">.</span><span class="crayon-e">protocolFactory</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TBinaryProtocol</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-38"><span class="crayon-h">			</span><span class="crayon-c">//半同步半异步的服务模型</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-39"><span class="crayon-h">			</span><span class="crayon-e">TServer </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">THsHaServer</span><span class="crayon-sy">(</span><span class="crayon-v">thhsArgs</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-40"><span class="crayon-h">			</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">serve</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-42"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-43"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Server start error!!!"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-44"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-45"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-46"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-47">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-48"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-49"><span class="crayon-c">	 * @param args</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-50"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-51"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-52"><span class="crayon-h">		</span><span class="crayon-e">HelloServerDemo </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-53"><span class="crayon-h">		</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-54"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc0956f683807347-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0956f683807347-56"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0165 seconds] -->
<p>客户端代码和上面 4 中的类似，只要注意<span style="color: #ff0000;">传输协议一致</span>以及指定传输方式为<span style="color: #ff0000;">TFramedTransport</span>。</p>
<p><span style="color: #0000ff;">7.异步客户端</span></p>
<p>编写服务端代码：<span style="color: #ff0000;">HelloServerDemo.java</span></p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc0957a948476383" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import org.apache.thrift.TProcessor;
import org.apache.thrift.protocol.TCompactProtocol;
import org.apache.thrift.server.TNonblockingServer;
import org.apache.thrift.server.TServer;
import org.apache.thrift.transport.TFramedTransport;
import org.apache.thrift.transport.TNonblockingServerSocket;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloServerDemo {
	public static final int SERVER_PORT = 8090;

	public void startServer() {
		try {
			System.out.println("HelloWorld TNonblockingServer start ....");

			TProcessor tprocessor = new HelloWorldService.Processor&amp;lt;HelloWorldService.Iface&amp;gt;(
					new HelloWorldImpl());

			TNonblockingServerSocket tnbSocketTransport = new TNonblockingServerSocket(
					SERVER_PORT);
			TNonblockingServer.Args tnbArgs = new TNonblockingServer.Args(
					tnbSocketTransport);
			tnbArgs.processor(tprocessor);
			tnbArgs.transportFactory(new TFramedTransport.Factory());
			tnbArgs.protocolFactory(new TCompactProtocol.Factory());

			// 使用非阻塞式IO，服务端和客户端需要指定TFramedTransport数据传输的方式
			TServer server = new TNonblockingServer(tnbArgs);
			server.serve();

		} catch (Exception e) {
			System.out.println("Server start error!!!");
			e.printStackTrace();
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		HelloServerDemo server = new HelloServerDemo();
		server.startServer();
	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-2">2</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-4">4</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-6">6</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-8">8</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-10">10</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-12">12</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-14">14</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-16">16</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-18">18</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-20">20</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-22">22</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-24">24</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-26">26</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-28">28</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-30">30</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-32">32</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-34">34</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-36">36</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-38">38</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-40">40</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-42">42</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-44">44</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-46">46</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-48">48</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-50">50</div><div class="crayon-num" data-line="crayon-585a3efc0957a948476383-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0957a948476383-52">52</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc0957a948476383-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0957a948476383-3"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TProcessor</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-4"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-5"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TNonblockingServer</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-6"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-v">TServer</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-7"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TFramedTransport</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-8"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TNonblockingServerSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-10"><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-11"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-12"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-13"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-14"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-15"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-16"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-17"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8090</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-18">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0957a948476383-19"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-20"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-21"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"HelloWorld TNonblockingServer start ...."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-22">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc0957a948476383-23"><span class="crayon-h">			</span><span class="crayon-e">TProcessor </span><span class="crayon-v">tprocessor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Processor</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">Iface</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-24"><span class="crayon-h">					</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloWorldImpl</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-26"><span class="crayon-h">			</span><span class="crayon-e">TNonblockingServerSocket </span><span class="crayon-v">tnbSocketTransport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TNonblockingServerSocket</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-27"><span class="crayon-h">					</span><span class="crayon-v">SERVER_PORT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-28"><span class="crayon-h">			</span><span class="crayon-v">TNonblockingServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args </span><span class="crayon-v">tnbArgs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TNonblockingServer</span><span class="crayon-sy">.</span><span class="crayon-e">Args</span><span class="crayon-sy">(</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-29"><span class="crayon-h">					</span><span class="crayon-v">tnbSocketTransport</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-30"><span class="crayon-h">			</span><span class="crayon-v">tnbArgs</span><span class="crayon-sy">.</span><span class="crayon-e">processor</span><span class="crayon-sy">(</span><span class="crayon-v">tprocessor</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-31"><span class="crayon-h">			</span><span class="crayon-v">tnbArgs</span><span class="crayon-sy">.</span><span class="crayon-e">transportFactory</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TFramedTransport</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-32"><span class="crayon-h">			</span><span class="crayon-v">tnbArgs</span><span class="crayon-sy">.</span><span class="crayon-e">protocolFactory</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-34"><span class="crayon-h">			</span><span class="crayon-c">// 使用非阻塞式IO，服务端和客户端需要指定TFramedTransport数据传输的方式</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-35"><span class="crayon-h">			</span><span class="crayon-e">TServer </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TNonblockingServer</span><span class="crayon-sy">(</span><span class="crayon-v">tnbArgs</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-36"><span class="crayon-h">			</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">serve</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-38"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-39"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Server start error!!!"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-40"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-41"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-42"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-44"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-45"><span class="crayon-c">	 * @param args</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-46"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-47"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-48"><span class="crayon-h">		</span><span class="crayon-e">HelloServerDemo </span><span class="crayon-v">server</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloServerDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-49"><span class="crayon-h">		</span><span class="crayon-v">server</span><span class="crayon-sy">.</span><span class="crayon-e">startServer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-50"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc0957a948476383-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0957a948476383-52"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0108 seconds] -->
<p>编写客户端Client代码：<span style="color: #ff0000;">HelloAsynClientDemo.java</span></p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc09584371405883" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">package com.micmiu.thrift.demo;

import java.util.concurrent.CountDownLatch;
import java.util.concurrent.TimeUnit;

import org.apache.thrift.TException;
import org.apache.thrift.async.AsyncMethodCallback;
import org.apache.thrift.async.TAsyncClientManager;
import org.apache.thrift.protocol.TCompactProtocol;
import org.apache.thrift.protocol.TProtocolFactory;
import org.apache.thrift.transport.TNonblockingSocket;
import org.apache.thrift.transport.TNonblockingTransport;

import com.micmiu.thrift.demo.HelloWorldService.AsyncClient.sayHello_call;

/**
 * blog http://www.micmiu.com
 *
 * @author Michael
 *
 */
public class HelloAsynClientDemo {

	public static final String SERVER_IP = "localhost";
	public static final int SERVER_PORT = 8090;
	public static final int TIMEOUT = 30000;

	/**
	 *
	 * @param userName
	 */
	public void startClient(String userName) {
		try {
			TAsyncClientManager clientManager = new TAsyncClientManager();
			TNonblockingTransport transport = new TNonblockingSocket(SERVER_IP,
					SERVER_PORT, TIMEOUT);

			TProtocolFactory tprotocol = new TCompactProtocol.Factory();
			HelloWorldService.AsyncClient asyncClient = new HelloWorldService.AsyncClient(
					tprotocol, clientManager, transport);
			System.out.println("Client start .....");

			CountDownLatch latch = new CountDownLatch(1);
			AsynCallback callBack = new AsynCallback(latch);
			System.out.println("call method sayHello start ...");
			asyncClient.sayHello(userName, callBack);
			System.out.println("call method sayHello .... end");
			boolean wait = latch.await(30, TimeUnit.SECONDS);
			System.out.println("latch.await =:" + wait);
		} catch (Exception e) {
			e.printStackTrace();
		}
		System.out.println("startClient end.");
	}

	public class AsynCallback implements AsyncMethodCallback&amp;lt;sayHello_call&amp;gt; {
		private CountDownLatch latch;

		public AsynCallback(CountDownLatch latch) {
			this.latch = latch;
		}

		@Override
		public void onComplete(sayHello_call response) {
			System.out.println("onComplete");
			try {
				// Thread.sleep(1000L * 1);
				System.out.println("AsynCall result =:"
						+ response.getResult().toString());
			} catch (TException e) {
				e.printStackTrace();
			} catch (Exception e) {
				e.printStackTrace();
			} finally {
				latch.countDown();
			}
		}

		@Override
		public void onError(Exception exception) {
			System.out.println("onError :" + exception.getMessage());
			latch.countDown();
		}
	}

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		HelloAsynClientDemo client = new HelloAsynClientDemo();
		client.startClient("Michael");

	}

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc09584371405883-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-2">2</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-4">4</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-6">6</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-8">8</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-10">10</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-12">12</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-14">14</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-16">16</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-18">18</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-20">20</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-22">22</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-24">24</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-26">26</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-28">28</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-30">30</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-32">32</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-34">34</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-36">36</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-38">38</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-40">40</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-42">42</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-44">44</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-46">46</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-48">48</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-50">50</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-52">52</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-54">54</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-56">56</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-58">58</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-60">60</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-62">62</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-64">64</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-66">66</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-68">68</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-70">70</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-72">72</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-74">74</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-76">76</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-78">78</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-80">80</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-82">82</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-84">84</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-86">86</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-88">88</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-90">90</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-92">92</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc09584371405883-94">94</div><div class="crayon-num" data-line="crayon-585a3efc09584371405883-95">95</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc09584371405883-1"><span class="crayon-t">package</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-2">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09584371405883-3"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">CountDownLatch</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-4"><span class="crayon-e">import </span><span class="crayon-v">java</span><span class="crayon-sy">.</span><span class="crayon-v">util</span><span class="crayon-sy">.</span><span class="crayon-v">concurrent</span><span class="crayon-sy">.</span><span class="crayon-v">TimeUnit</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-6"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">TException</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-7"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">async</span><span class="crayon-sy">.</span><span class="crayon-v">AsyncMethodCallback</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-8"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">async</span><span class="crayon-sy">.</span><span class="crayon-v">TAsyncClientManager</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-9"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-10"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">protocol</span><span class="crayon-sy">.</span><span class="crayon-v">TProtocolFactory</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-11"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TNonblockingSocket</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-12"><span class="crayon-e">import </span><span class="crayon-v">org</span><span class="crayon-sy">.</span><span class="crayon-v">apache</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">transport</span><span class="crayon-sy">.</span><span class="crayon-v">TNonblockingTransport</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-14"><span class="crayon-e">import </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-v">thrift</span><span class="crayon-sy">.</span><span class="crayon-v">demo</span><span class="crayon-sy">.</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-v">AsyncClient</span><span class="crayon-sy">.</span><span class="crayon-v">sayHello_call</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-16"><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-17"><span class="crayon-c"> * blog http://www.micmiu.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-18"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-19"><span class="crayon-c"> * @author Michael</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-20"><span class="crayon-c"> *</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-21"><span class="crayon-c"> */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-22"><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">HelloAsynClientDemo</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-24"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_IP</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"localhost"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-25"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">SERVER_PORT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8090</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-26"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-m">final</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">TIMEOUT</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30000</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-28"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-29"><span class="crayon-c">	 *</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-30"><span class="crayon-c">	 * @param userName</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-31"><span class="crayon-c">	 */</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-32"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">startClient</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-h"> </span><span class="crayon-v">userName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-33"><span class="crayon-h">		</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-34"><span class="crayon-h">			</span><span class="crayon-e">TAsyncClientManager </span><span class="crayon-v">clientManager</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TAsyncClientManager</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-35"><span class="crayon-h">			</span><span class="crayon-e">TNonblockingTransport </span><span class="crayon-v">transport</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TNonblockingSocket</span><span class="crayon-sy">(</span><span class="crayon-v">SERVER_IP</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-36"><span class="crayon-h">					</span><span class="crayon-v">SERVER_PORT</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">TIMEOUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-38"><span class="crayon-h">			</span><span class="crayon-e">TProtocolFactory </span><span class="crayon-v">tprotocol</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">TCompactProtocol</span><span class="crayon-sy">.</span><span class="crayon-e">Factory</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-39"><span class="crayon-h">			</span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-e">AsyncClient </span><span class="crayon-v">asyncClient</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">HelloWorldService</span><span class="crayon-sy">.</span><span class="crayon-e">AsyncClient</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-40"><span class="crayon-h">					</span><span class="crayon-v">tprotocol</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">clientManager</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">transport</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-41"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Client start ....."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-42">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09584371405883-43"><span class="crayon-h">			</span><span class="crayon-e">CountDownLatch </span><span class="crayon-v">latch</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">CountDownLatch</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-44"><span class="crayon-h">			</span><span class="crayon-e">AsynCallback </span><span class="crayon-v">callBack</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">AsynCallback</span><span class="crayon-sy">(</span><span class="crayon-v">latch</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-45"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"call method sayHello start ..."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-46"><span class="crayon-h">			</span><span class="crayon-v">asyncClient</span><span class="crayon-sy">.</span><span class="crayon-e">sayHello</span><span class="crayon-sy">(</span><span class="crayon-v">userName</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">callBack</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-47"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"call method sayHello .... end"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-48"><span class="crayon-h">			</span><span class="crayon-t">boolean</span><span class="crayon-h"> </span><span class="crayon-v">wait</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">latch</span><span class="crayon-sy">.</span><span class="crayon-e">await</span><span class="crayon-sy">(</span><span class="crayon-cn">30</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">TimeUnit</span><span class="crayon-sy">.</span><span class="crayon-v">SECONDS</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-49"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"latch.await =:"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">wait</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-50"><span class="crayon-h">		</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-51"><span class="crayon-h">			</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-52"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-53"><span class="crayon-h">		</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"startClient end."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-54"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-56"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-e">AsynCallback </span><span class="crayon-r">implements</span><span class="crayon-h"> </span><span class="crayon-v">AsyncMethodCallback</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">sayHello_call</span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-57"><span class="crayon-h">		</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">CountDownLatch </span><span class="crayon-v">latch</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-58">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09584371405883-59"><span class="crayon-h">		</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-e">AsynCallback</span><span class="crayon-sy">(</span><span class="crayon-e">CountDownLatch </span><span class="crayon-v">latch</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-60"><span class="crayon-h">			</span><span class="crayon-r">this</span><span class="crayon-sy">.</span><span class="crayon-v">latch</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">latch</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-61"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-62">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09584371405883-63"><span class="crayon-h">		</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-64"><span class="crayon-e">		</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onComplete</span><span class="crayon-sy">(</span><span class="crayon-e">sayHello_call </span><span class="crayon-v">response</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-65"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"onComplete"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-66"><span class="crayon-h">			</span><span class="crayon-st">try</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-67"><span class="crayon-h">				</span><span class="crayon-c">// Thread.sleep(1000L * 1);</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-68"><span class="crayon-h">				</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"AsynCall result =:"</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-69"><span class="crayon-h">						</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">getResult</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-70"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">TException</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-71"><span class="crayon-h">				</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-72"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">catch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">Exception</span><span class="crayon-h"> </span><span class="crayon-v">e</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-73"><span class="crayon-h">				</span><span class="crayon-v">e</span><span class="crayon-sy">.</span><span class="crayon-e">printStackTrace</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-74"><span class="crayon-h">			</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">finally</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-75"><span class="crayon-h">				</span><span class="crayon-v">latch</span><span class="crayon-sy">.</span><span class="crayon-e">countDown</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-76"><span class="crayon-h">			</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-77"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-78">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09584371405883-79"><span class="crayon-h">		</span><span class="crayon-sy">@</span><span class="crayon-e">Override</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-80"><span class="crayon-e">		</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">onError</span><span class="crayon-sy">(</span><span class="crayon-e">Exception </span><span class="crayon-v">exception</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-81"><span class="crayon-h">			</span><span class="crayon-v">System</span><span class="crayon-sy">.</span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"onError :"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">exception</span><span class="crayon-sy">.</span><span class="crayon-e">getMessage</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-82"><span class="crayon-h">			</span><span class="crayon-v">latch</span><span class="crayon-sy">.</span><span class="crayon-e">countDown</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-83"><span class="crayon-h">		</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-84"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-85">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-86"><span class="crayon-h">	</span><span class="crayon-c">/**</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-87"><span class="crayon-c">	 * @param args</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-88"><span class="crayon-c">	 */</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-89"><span class="crayon-h">	</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-t">String</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-v">args</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-90"><span class="crayon-h">		</span><span class="crayon-e">HelloAsynClientDemo </span><span class="crayon-v">client</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">HelloAsynClientDemo</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-585a3efc09584371405883-91"><span class="crayon-h">		</span><span class="crayon-v">client</span><span class="crayon-sy">.</span><span class="crayon-e">startClient</span><span class="crayon-sy">(</span><span class="crayon-s">"Michael"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-92">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09584371405883-93"><span class="crayon-h">	</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc09584371405883-94">&nbsp;</div><div class="crayon-line" id="crayon-585a3efc09584371405883-95"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0162 seconds] -->
<p>先运行服务程序，再运行客户端程序，测试结果如下：</p><!-- Crayon Syntax Highlighter v2.6.9 -->

		<div id="crayon-585a3efc0958e769225652" class="crayon-syntax crayon-theme-solarized-dark crayon-font-monaco crayon-os-mac print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" show" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">Client start .....
call method sayHello start ...
call method sayHello .... end
onComplete
AsynCall result =:Hi,Michael welcome to my blog www.micmiu.com
latch.await =:true
startClient end.</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-585a3efc0958e769225652-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0958e769225652-2">2</div><div class="crayon-num" data-line="crayon-585a3efc0958e769225652-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0958e769225652-4">4</div><div class="crayon-num" data-line="crayon-585a3efc0958e769225652-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-585a3efc0958e769225652-6">6</div><div class="crayon-num" data-line="crayon-585a3efc0958e769225652-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-585a3efc0958e769225652-1"><span class="crayon-e">Client </span><span class="crayon-i">start</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0958e769225652-2"><span class="crayon-e">call </span><span class="crayon-e">method </span><span class="crayon-e">sayHello </span><span class="crayon-i">start</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-585a3efc0958e769225652-3"><span class="crayon-e">call </span><span class="crayon-e">method </span><span class="crayon-i">sayHello</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-st">end</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0958e769225652-4"><span class="crayon-e">onComplete</span></div><div class="crayon-line" id="crayon-585a3efc0958e769225652-5"><span class="crayon-e">AsynCall </span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">:</span><span class="crayon-v">Hi</span><span class="crayon-sy">,</span><span class="crayon-e">Michael </span><span class="crayon-e">welcome </span><span class="crayon-st">to</span><span class="crayon-h"> </span><span class="crayon-e">my </span><span class="crayon-e">blog </span><span class="crayon-v">www</span><span class="crayon-sy">.</span><span class="crayon-v">micmiu</span><span class="crayon-sy">.</span><span class="crayon-e">com</span></div><div class="crayon-line crayon-striped-line" id="crayon-585a3efc0958e769225652-6"><span class="crayon-v">latch</span><span class="crayon-sy">.</span><span class="crayon-v">await</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">:</span><span class="crayon-t">true</span></div><div class="crayon-line" id="crayon-585a3efc0958e769225652-7"><span class="crayon-e">startClient </span><span class="crayon-st">end</span><span class="crayon-sy">.</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p>————
</p><div style="background:#F4F5F7;border:1px solid #CCC;font-size: 11px; font-style: italic">
<p><strong>原创文章，转载请注明：</strong> 转载自<a href="http://www.micmiu.com/">micmiu –  软件开发+生活点滴</a>[ <a href="http://www.micmiu.com/">http://www.micmiu.com/</a> ]</p>
<p><strong>本文链接地址:</strong> <a href="http://www.micmiu.com/soa/rpc/thrift-sample/">http://www.micmiu.com/soa/rpc/thrift-sample/</a></p>
</div>
<div style="clear:both; margin-top:5px; margin-bottom:5px;"></div><div style="float:left"><!-- JiaThis Button BEGIN -->
<div id="jiathis_style_32x32">
	<a class="jiathis_button_qzone" title="分享到QQ空间"><span class="jiathis_txt jtico jtico_qzone"></span></a>
	<a class="jiathis_button_tsina" title="分享到微博"><span class="jiathis_txt jtico jtico_tsina"></span></a>
	<a class="jiathis_button_tqq" title="分享到腾讯微博"><span class="jiathis_txt jtico jtico_tqq"></span></a>
	<a class="jiathis_button_renren" title="分享到人人网"><span class="jiathis_txt jtico jtico_renren"></span></a>
	<a class="jiathis_button_kaixin001" title="分享到开心网"><span class="jiathis_txt jtico jtico_kaixin001"></span></a>
	<a href="http://www.jiathis.com/share/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-article&#39;, &#39;http://www.jiathis.com/share/&#39;, &#39;&#39;]);" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"><span class="jiathis_button_expanded jiathis_counter jiathis_bubble_style" id="jiathis_counter_34" title="累计分享22次">22</span></a>
</div>
<script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/jia.js.下载" charset="utf-8"></script><script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/plugin.client.js.下载" charset="utf-8"></script>
<!-- JiaThis Button END --></div><div style="clear:both; margin-top:5px; margin-bottom:5px;"></div>					</div><!-- END entry -->
		<div class="add-info">
					</div>
		<div class="post-info-bottom">
			<span class="post-info-category"><a href="http://www.micmiu.com/category/soa/rpc/" rel="category tag">RPC</a></span><span class="post-info-tags"><a href="http://www.micmiu.com/tag/apache/" rel="tag">apache</a>, <a href="http://www.micmiu.com/tag/rpc/" rel="tag">RPC</a>, <a href="http://www.micmiu.com/tag/thrift/" rel="tag">Thrift</a></span>
		</div>
		<div id="nav-below">
			<div class="nav-previous"><a href="http://www.micmiu.com/software/build/apache-ivy-start/" rel="prev"><span class="meta-nav">←</span> Apache Ivy入门</a></div>
			<div class="nav-next"><a href="http://www.micmiu.com/enterprise-app/snmp/jrobin-graph-rpn/" rel="next">JRobin绘制指定时间段的流量图 <span class="meta-nav">→</span></a></div>
		</div><!-- #nav-below -->					
	</div><!-- END post -->
	<!-- You can start editing here. -->

			<div id="comments-div"><span id="comments-addcomment"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#respond" rel="nofollow" title="发表评论？">发表评论？</a></span><h2 id="comments">30 条评论。</h2></div>
		<ol class="commentlist" id="thecomments">
				
<li class="comment even thread-even depth-1" id="li-comment-92201">
	<div id="comment-92201">
		<div class="comment-author vcard">
						<cite class="fn">Kaka</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-92201">2016 年 1 月 5 日 在 下午 9:50</a></span>
		</div>
		<div class="comment-text">
			<p>请问你的大于 小于用&amp;lt  &amp;gt ； 而不直接用呢</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=92201#respond" onclick="return addComment.moveForm( &quot;comment-92201&quot;, &quot;92201&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Kaka">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-85731">
	<div id="comment-85731">
		<div class="comment-author vcard">
						<cite class="fn">while.for</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-85731">2015 年 11 月 5 日 在 下午 5:56</a></span>
		</div>
		<div class="comment-text">
			<p>对nifty有研究么？几乎木有什么资料。。。抓狂ing…</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=85731#respond" onclick="return addComment.moveForm( &quot;comment-85731&quot;, &quot;85731&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给while.for">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor even depth-2" id="li-comment-85960">
	<div id="comment-85960">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-85960">2015 年 11 月 6 日 在 下午 4:57</a></span>
		</div>
		<div class="comment-text">
			<p>还个还真没有接触过</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=85960#respond" onclick="return addComment.moveForm( &quot;comment-85960&quot;, &quot;85960&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-79453">
	<div id="comment-79453">
		<div class="comment-author vcard">
						<cite class="fn"><a href="http://www.cnblogs.com/dhsunny/" rel="external nofollow" class="url">东辉</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-79453">2015 年 9 月 27 日 在 下午 8:05</a></span>
		</div>
		<div class="comment-text">
			<p>非常感谢</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=79453#respond" onclick="return addComment.moveForm( &quot;comment-79453&quot;, &quot;79453&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给东辉">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-79452">
	<div id="comment-79452">
		<div class="comment-author vcard">
						<cite class="fn"><a href="http://www.cnblogs.com/dhsunny/" rel="external nofollow" class="url">东辉</a></cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-79452">2015 年 9 月 27 日 在 下午 8:00</a></span>
		</div>
		<div class="comment-text">
			<p>非常好，最近项目中应用到Thrift。学习了，程序也可以跑起来！</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=79452#respond" onclick="return addComment.moveForm( &quot;comment-79452&quot;, &quot;79452&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给东辉">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-74065">
	<div id="comment-74065">
		<div class="comment-author vcard">
						<cite class="fn">kou</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-74065">2015 年 8 月 20 日 在 下午 5:27</a></span>
		</div>
		<div class="comment-text">
			<p>谢谢啦</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=74065#respond" onclick="return addComment.moveForm( &quot;comment-74065&quot;, &quot;74065&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给kou">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-73549">
	<div id="comment-73549">
		<div class="comment-author vcard">
						<cite class="fn">水煮鱼</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-73549">2015 年 8 月 17 日 在 下午 12:00</a></span>
		</div>
		<div class="comment-text">
			<p>非常不错,刚刚接触这个东西。看了博主的文章懂了些基础的东西。感谢</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=73549#respond" onclick="return addComment.moveForm( &quot;comment-73549&quot;, &quot;73549&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给水煮鱼">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-60485">
	<div id="comment-60485">
		<div class="comment-author vcard">
						<cite class="fn">abc</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-60485">2015 年 5 月 8 日 在 上午 10:56</a></span>
		</div>
		<div class="comment-text">
			<p>楼主有qq吗</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=60485#respond" onclick="return addComment.moveForm( &quot;comment-60485&quot;, &quot;60485&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给abc">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-59941">
	<div id="comment-59941">
		<div class="comment-author vcard">
						<cite class="fn">leo</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-59941">2015 年 4 月 30 日 在 上午 11:57</a></span>
		</div>
		<div class="comment-text">
			<p>使用 thrift 工具生成的java 文件加载到项目中提示出现大量的：<br>
Error:(383, 20) java: service.demo.Hello.Processor.helloString不是抽象的, 并且未覆盖org.apache.thrift.ProcessFunction中的抽象方法isOneway()<br>
错误信息。 请教楼主怎么破？</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=59941#respond" onclick="return addComment.moveForm( &quot;comment-59941&quot;, &quot;59941&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给leo">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-59386">
	<div id="comment-59386">
		<div class="comment-author vcard">
						<cite class="fn">zhxh007</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-59386">2015 年 4 月 25 日 在 下午 2:02</a></span>
		</div>
		<div class="comment-text">
			<p>楼主用的eclispe么，什么主题啊，挺好看的</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=59386#respond" onclick="return addComment.moveForm( &quot;comment-59386&quot;, &quot;59386&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给zhxh007">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-38074">
	<div id="comment-38074">
		<div class="comment-author vcard">
						<cite class="fn">颜颜</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-38074">2014 年 12 月 1 日 在 下午 11:53</a></span>
		</div>
		<div class="comment-text">
			<p>请教下博主 用半异步半同步的时候 我开启了多个服务每个都指定了一个端口号  然后  客户端链接的时候  一到执行实现服务接口的方法时就客户端保持了。。既不往下运行也不停止。。。。 可能是什么原因造成的呢。。谢谢啦！</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=38074#respond" onclick="return addComment.moveForm( &quot;comment-38074&quot;, &quot;38074&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给颜颜">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor odd alt depth-2" id="li-comment-39558">
	<div id="comment-39558">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-39558">2014 年 12 月 9 日 在 下午 11:15</a></span>
		</div>
		<div class="comment-text">
			<p>既不继续运行也不停止，这只是个表面现象，要找到真正原因（死锁、挂起 还是。。。）才能解决</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=39558#respond" onclick="return addComment.moveForm( &quot;comment-39558&quot;, &quot;39558&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-34658">
	<div id="comment-34658">
		<div class="comment-author vcard">
						<cite class="fn">原</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-34658">2014 年 11 月 6 日 在 上午 11:52</a></span>
		</div>
		<div class="comment-text">
			<p>博主你好，7的代码和5的代码有什么区别呢？</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=34658#respond" onclick="return addComment.moveForm( &quot;comment-34658&quot;, &quot;34658&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给原">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor odd alt depth-2" id="li-comment-36865">
	<div id="comment-36865">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-36865">2014 年 11 月 24 日 在 下午 4:32</a></span>
		</div>
		<div class="comment-text">
			<p>没有实际对比过，估计差异不大，最好看看官方这两个版本的说明</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=36865#respond" onclick="return addComment.moveForm( &quot;comment-36865&quot;, &quot;36865&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-20095">
	<div id="comment-20095">
		<div class="comment-author vcard">
						<cite class="fn">glutton</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-20095">2014 年 4 月 4 日 在 上午 11:49</a></span>
		</div>
		<div class="comment-text">
			<p>博主你好，文章非常有用<br>
就是在最后一个例子，我的异步客户端输出如下：<br>
Client start …..<br>
call method sayHello start …<br>
call method sayHello …. end<br>
latch.await =:false<br>
startClient end.</p>
<p>没有获得和您一样的结果，大约是什么原因呢？感谢</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=20095#respond" onclick="return addComment.moveForm( &quot;comment-20095&quot;, &quot;20095&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给glutton">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-20094">
	<div id="comment-20094">
		<div class="comment-author vcard">
						<cite class="fn">glutton</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-20094">2014 年 4 月 4 日 在 上午 11:48</a></span>
		</div>
		<div class="comment-text">
			<p>博主你好，文章非常有用<br>
就是在最后一个例子，我的异步客户端输出如下：</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=20094#respond" onclick="return addComment.moveForm( &quot;comment-20094&quot;, &quot;20094&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给glutton">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-19995">
	<div id="comment-19995">
		<div class="comment-author vcard">
						<cite class="fn">清风</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-19995">2014 年 3 月 31 日 在 下午 6:08</a></span>
		</div>
		<div class="comment-text">
			<p>请问 Thrift的数据 是如何进行传递的<br>
和普通的WebService的区别仅在于 WS传递的是XML  而Thrift传递的是thrift包？<br>
thrift的封包解包和WS的有什么区别<br>
为什么thrift比用CXF实现的WS要快（PS.我自己做了个实验，前者的耗时大概是后者的1/3到1/10）</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=19995#respond" onclick="return addComment.moveForm( &quot;comment-19995&quot;, &quot;19995&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给清风">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor odd alt depth-2" id="li-comment-20005">
	<div id="comment-20005">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-20005">2014 年 3 月 31 日 在 下午 11:00</a></span>
		</div>
		<div class="comment-text">
			<p>thrift的传输数据采用二进制格式，相比xml、json 体积更小，对于高并发、大数据量更有优势</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=20005#respond" onclick="return addComment.moveForm( &quot;comment-20005&quot;, &quot;20005&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-12146">
	<div id="comment-12146">
		<div class="comment-author vcard">
						<cite class="fn">milan111</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-12146">2013 年 5 月 28 日 在 上午 10:22</a></span>
		</div>
		<div class="comment-text">
			<p>非常感谢！受益匪浅！<br>
您给出的例子都是java通信的，那如果我想用java调用nodejs或者nodejs调用java该怎么写呢？有类似的例子吗？</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=12146#respond" onclick="return addComment.moveForm( &quot;comment-12146&quot;, &quot;12146&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给milan111">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor odd alt depth-2" id="li-comment-12203">
	<div id="comment-12203">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-12203">2013 年 5 月 30 日 在 上午 10:07</a></span>
		</div>
		<div class="comment-text">
			<p>这个目前没有例子的</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=12203#respond" onclick="return addComment.moveForm( &quot;comment-12203&quot;, &quot;12203&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-6153">
	<div id="comment-6153">
		<div class="comment-author vcard">
						<cite class="fn">qq663550185</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-6153">2013 年 1 月 14 日 在 下午 7:00</a></span>
		</div>
		<div class="comment-text">
			<p>请问在服务端有遇到过这种情况么？<br>
Thrift error occurred during processing of message.<br>
org.apache.thrift.TException: Message length exceeded: 2<br>
        at org.apache.thrift.protocol.TBinaryProtocol.checkReadLength(TBinaryProtocol.java:393)<br>
        at org.apache.thrift.protocol.TBinaryProtocol.readAll(TBinaryProtocol.java:377)<br>
        at org.apache.thrift.protocol.TBinaryProtocol.readI16(TBinaryProtocol.java:278)<br>
        at org.apache.thrift.protocol.TBinaryProtocol.readFieldBegin(TBinaryProtocol.java:229)</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=6153#respond" onclick="return addComment.moveForm( &quot;comment-6153&quot;, &quot;6153&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给qq663550185">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor odd alt depth-2" id="li-comment-6164">
	<div id="comment-6164">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-6164">2013 年 1 月 14 日 在 下午 10:53</a></span>
		</div>
		<div class="comment-text">
			<p>没有遇到过的，看错误信息 好像是消息读取时有问题</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=6164#respond" onclick="return addComment.moveForm( &quot;comment-6164&quot;, &quot;6164&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-1180">
	<div id="comment-1180">
		<div class="comment-author vcard">
						<cite class="fn">jose</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-1180">2012 年 10 月 16 日 在 下午 5:24</a></span>
		</div>
		<div class="comment-text">
			<p>请教一个问题<br>
假如有2个service 如<br>
HelloWorldService1<br>
HelloWorldService2.</p>
<p>那么server端的code 如何写<br>
 System.out.println(“HelloWorld TNonblockingServer start ….”);<br>
22</p>
<p>23<br>
            TProcessor tprocessor = new HelloWorldService.Processor(<br>
24<br>
                    new HelloWorldImpl());<br>
25</p>
<p>26<br>
            TNonblockingServerSocket tnbSocketTransport = new TNonblockingServerSocket(<br>
27<br>
                    SERVER_PORT);<br>
28<br>
            TNonblockingServer.Args tnbArgs = new TNonblockingServer.Args(<br>
29<br>
                    tnbSocketTransport);<br>
30<br>
            tnbArgs.processor(tprocessor);<br>
31<br>
            tnbArgs.transportFactory(new TFramedTransport.Factory());<br>
32<br>
            tnbArgs.protocolFactory(new TCompactProtocol.Factory());<br>
TServer server = new THsHaServer(thhsArgs);<br>
40<br>
            server.serve();</p>
<p>这段代码是把 HelloWorldService 启动了 ，如何还想启动一个service 怎么办？</p>
<p>谢谢赐教！</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=1180#respond" onclick="return addComment.moveForm( &quot;comment-1180&quot;, &quot;1180&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给jose">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor odd alt depth-2" id="li-comment-1182">
	<div id="comment-1182">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-1182">2012 年 10 月 16 日 在 下午 6:09</a></span>
		</div>
		<div class="comment-text">
			<p>如果你想在一个port上起多个好像不行（我没有深入研究过），实在不行可以把两个service的接口合并成一个</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=1182#respond" onclick="return addComment.moveForm( &quot;comment-1182&quot;, &quot;1182&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1179">
	<div id="comment-1179">
		<div class="comment-author vcard">
						<cite class="fn">jose</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-1179">2012 年 10 月 16 日 在 下午 5:14</a></span>
		</div>
		<div class="comment-text">
			<p>写的不错 <img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_razz.gif" alt=":razz:" class="wp-smiley"></p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=1179#respond" onclick="return addComment.moveForm( &quot;comment-1179&quot;, &quot;1179&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给jose">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment odd alt thread-even depth-1" id="li-comment-923">
	<div id="comment-923">
		<div class="comment-author vcard">
						<cite class="fn">dhpasa</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-923">2012 年 9 月 13 日 在 下午 2:51</a></span>
		</div>
		<div class="comment-text">
			<p>可以啦接着看下去，呵呵。thank u</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=923#respond" onclick="return addComment.moveForm( &quot;comment-923&quot;, &quot;923&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给dhpasa">回复</a>		</div>
	</div>

</li><!-- #comment-## -->

<li class="comment even thread-odd thread-alt depth-1" id="li-comment-921">
	<div id="comment-921">
		<div class="comment-author vcard">
						<cite class="fn">dhpasa</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-921">2012 年 9 月 13 日 在 下午 2:37</a></span>
		</div>
		<div class="comment-text">
			<p>生成代码具体是怎么实现的啊？看不明白 <img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_cry.gif" alt=":cry:" class="wp-smiley"></p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=921#respond" onclick="return addComment.moveForm( &quot;comment-921&quot;, &quot;921&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给dhpasa">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor odd alt depth-2" id="li-comment-922">
	<div id="comment-922">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-922">2012 年 9 月 13 日 在 下午 2:48</a></span>
		</div>
		<div class="comment-text">
			<p>那一步没有看懂？我好想写得已经很详细了</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=922#respond" onclick="return addComment.moveForm( &quot;comment-922&quot;, &quot;922&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

<li class="comment even thread-even depth-1" id="li-comment-317">
	<div id="comment-317">
		<div class="comment-author vcard">
						<cite class="fn">程序娃娃</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-317">2012 年 6 月 27 日 在 下午 5:33</a></span>
		</div>
		<div class="comment-text">
			<p>非常感谢</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=317#respond" onclick="return addComment.moveForm( &quot;comment-317&quot;, &quot;317&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给程序娃娃">回复</a>		</div>
	</div>

<ul class="children">

<li class="comment byuser comment-author-michael bypostauthor odd alt depth-2" id="li-comment-320">
	<div id="comment-320">
		<div class="comment-author vcard">
						<cite class="fn">Michael</cite>
			<span class="comment-meta commentmetadata"><a href="http://www.micmiu.com/soa/rpc/thrift-sample/#comment-320">2012 年 6 月 28 日 在 上午 9:51</a></span>
		</div>
		<div class="comment-text">
			<p><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_smile.gif" alt=":smile:" class="wp-smiley"> 以后可以多多交流</p>
					</div>
		<div class="reply">
			<a class="comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/?replytocom=320#respond" onclick="return addComment.moveForm( &quot;comment-320&quot;, &quot;320&quot;, &quot;respond&quot;, &quot;701&quot; )" aria-label="回复给Michael">回复</a>		</div>
	</div>

</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		</ol>
		<div class="navigation"></div>
	
	<script type="text/javascript">
	/* <![CDATA[ */
		function grin(tag) {
			var myField;
			tag = ' ' + tag + ' ';
			if (document.getElementById('comment') && document.getElementById('comment').type == 'textarea') {
				myField = document.getElementById('comment');
			} else {
				return false;
			}
			if (document.selection) {
				myField.focus();
				sel = document.selection.createRange();
				sel.text = tag;
				myField.focus();
			}
			else if (myField.selectionStart || myField.selectionStart == '0') {
				var startPos = myField.selectionStart;
				var endPos = myField.selectionEnd;
				var cursorPos = endPos;
				myField.value = myField.value.substring(0, startPos)
							  + tag
							  + myField.value.substring(endPos, myField.value.length);
				cursorPos += tag.length;
				myField.focus();
				myField.selectionStart = cursorPos;
				myField.selectionEnd = cursorPos;
			}
			else {
				myField.value += tag;
				myField.focus();
			}
		}
	/* ]]> */
	</script>
									<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://www.micmiu.com/soa/rpc/thrift-sample/#respond" style="display:none;"><small>取消回复</small></a></small></h3>
									<form action="http://www.micmiu.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																										<p class="comment-form-author"><input id="author" name="author" type="text" value="" size="30"> <label for="author"><small>昵称</small></label></p>
<p class="comment-form-email"><input id="email" name="email" type="text" value="" size="30"> <label for="email">邮箱</label></p>
<p class="comment-form-url"><input id="url" name="url" type="text" value="" size="30"> <label for="url">网址</label></p>
												<p class="smilies">
	<a href="javascript:grin(&#39;:?:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_question.gif" alt=""></a>
	<a href="javascript:grin(&#39;:razz:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_razz.gif" alt=""></a>
	<a href="javascript:grin(&#39;:sad:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_sad.gif" alt=""></a>
	<a href="javascript:grin(&#39;:evil:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_evil.gif" alt=""></a>
	<a href="javascript:grin(&#39;:!:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_exclaim.gif" alt=""></a>
	<a href="javascript:grin(&#39;:smile:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_smile.gif" alt=""></a>
	<a href="javascript:grin(&#39;:oops:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_redface.gif" alt=""></a>
	<a href="javascript:grin(&#39;:grin:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_biggrin.gif" alt=""></a>
	<a href="javascript:grin(&#39;:eek:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_surprised.gif" alt=""></a>
	<a href="javascript:grin(&#39;:shock:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_eek.gif" alt=""></a>
	<a href="javascript:grin(&#39;:???:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_confused.gif" alt=""></a>
	<a href="javascript:grin(&#39;:cool:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_cool.gif" alt=""></a>
	<a href="javascript:grin(&#39;:lol:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_lol.gif" alt=""></a>
	<a href="javascript:grin(&#39;:mad:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_mad.gif" alt=""></a>
	<a href="javascript:grin(&#39;:twisted:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_twisted.gif" alt=""></a>
	<a href="javascript:grin(&#39;:roll:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_rolleyes.gif" alt=""></a>
	<a href="javascript:grin(&#39;:wink:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_wink.gif" alt=""></a>
	<a href="javascript:grin(&#39;:idea:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_idea.gif" alt=""></a>
	<a href="javascript:grin(&#39;:arrow:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_arrow.gif" alt=""></a>
	<a href="javascript:grin(&#39;:neutral:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_neutral.gif" alt=""></a>
	<a href="javascript:grin(&#39;:cry:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_cry.gif" alt=""></a>
	<a href="javascript:grin(&#39;:mrgreen:&#39;)"><img src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/icon_mrgreen.gif" alt=""></a>
	<br></p><p class="comment-form-comment"><textarea aria-required="true" rows="8" cols="45" name="comment" id="comment" onkeydown="if(event.ctrlKey){if(event.keyCode==13){document.getElementById(&#39;submit&#39;).click();return false}};"></textarea></p>						<p class="comment-note">注意 - 你可以用以下 <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:<br> <code>&lt;a href="" title=""&gt; &lt;abbr title=""&gt; &lt;acronym title=""&gt; &lt;b&gt; &lt;blockquote cite=""&gt; &lt;cite&gt; &lt;code class="" title="" data-url=""&gt; &lt;del datetime=""&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=""&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre class="" title="" data-url=""&gt; &lt;span class="" title="" data-url=""&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" class="submit" value="提交">
							<input type="hidden" name="comment_post_ID" value="701" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="4c86e7cd87"></p><p style="display: none;"></p>					<input type="hidden" id="ak_js" name="ak_js" value="1482311171711"></form>
							</div><!-- #respond -->
			</div><!--content-->
<div id="sidebar-border">
	<div id="rss_border">
		<div class="rss_border">
			<div id="rss_wrap">
				<div class="rss_wrap">
										<a class="rss " href="http://www.micmiu.com/feed/" rel="bookmark" title="RSS 订阅">RSS 订阅</a>
										<a class="twitter" href="http://twitter.com/suncto" rel="author" title="Follow me on twitter.">Follow me on twitter.</a>
															<a class="facebook" href="http://facebook.com/suncto" rel="author" title="Facebook">Facebook</a>
															<a class="googleplus" href="https://plus.google.com/105200330225272097125" rel="me" title="Google+">Google+</a>
																			</div>
			</div>
		</div>
	</div>
	<div id="sidebar">
	<div class="widget"><iframe width="100%" height="400" class="share_self" frameborder="0" scrolling="no" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/index.html"></iframe>
        </div>

		<div id="recent-posts-4" class="widget widget_recent_entries">		<h3 class="widgettitle">近期文章</h3>		<ul>
					<li>
				<a href="http://www.micmiu.com/exception/jee-hadoop-nosuchmethod-error-getproblems/">java.lang.NoSuchMethodError: org.eclipse.jdt.internal.compiler.CompilationResult.getProblems()</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/bigdata/hadoop/hadoop-map-inputsplit-filepath/">Hadoop在Map阶段获取当前split的文件名</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/bigdata/hadoop/hadoop-many-disk-config/">hadoop多硬盘配置注意点</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/bigdata/hadoop/hadoop-hbase-pid-dir-config/">Hadoop修改配置PID文件路径</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/bigdata/hbase/hbase-snappy-install-config/">HBase安装配置snappy压缩算法</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/bigdata/hadoop/hadoop-snappy-install-config/">Hadoop安装配置snappy压缩</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/hazel-wu/life/happy-new-year/">Happy New Year!</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/bigdata/hbase/hbase-setup-on-hadoop2-nn-ha-zookeeper/">HBase+Hadoop2 NN HA+Zookeeper独立安装的整合</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/bigdata/hadoop/hadoop2-cluster-ha-setup/">Hadoop2分布式及NN和RM实现HA的实验</a>
						</li>
					<li>
				<a href="http://www.micmiu.com/ops/ansible/ansible-requires-a-json-module/">ansible requires a json module, none found</a>
						</li>
				</ul>
		</div><div id="views-4" class="widget widget_views"><h3 class="widgettitle">浏览</h3><ul>
<li><a href="http://www.micmiu.com/software/common/intellij-idea-create-maven-web/" title="图文介绍IntelliJ IDEA 创建基于Maven构建的Web项目">图文介绍IntelliJ IDEA 创建基于Maven构建的Web项目</a> - 102,061 views</li><li><a href="http://www.micmiu.com/soa/rpc/thrift-sample/" title="Thrift入门及Java实例演示">Thrift入门及Java实例演示</a> - 75,959 views</li><li><a href="http://www.micmiu.com/enterprise-app/sso/sso-cas-sample/" title="SSO之CAS单点登录实例演示">SSO之CAS单点登录实例演示</a> - 44,176 views</li><li><a href="http://www.micmiu.com/lang/java/keytool-start-guide/" title="java keytool证书工具使用小结">java keytool证书工具使用小结</a> - 36,937 views</li><li><a href="http://www.micmiu.com/software/build/maven-web-eclipse-deploy/" title="Maven构建web项目在Eclipse中部署的几种方法">Maven构建web项目在Eclipse中部署的几种方法</a> - 36,320 views</li><li><a href="http://www.micmiu.com/enterprise-app/sso/openldap-windows-config/" title="图文介绍openLDAP在windows上的安装配置">图文介绍openLDAP在windows上的安装配置</a> - 35,020 views</li><li><a href="http://www.micmiu.com/lang/java/java-md5-sha1/" title="java自带的MD5、SHA1算法演示">java自带的MD5、SHA1算法演示</a> - 31,698 views</li><li><a href="http://www.micmiu.com/software/build/eclipse-maven-web-lib/" title="Eclipse+Maven构建web项目及部署时Maven lib依赖问题的解决">Eclipse+Maven构建web项目及部署时Maven lib依赖问题的解决</a> - 28,354 views</li><li><a href="http://www.micmiu.com/lang/java/set-javahome-on-mac-os-x/" title="$JAVA_HOME环境变量在Mac OS X中设置的问题">$JAVA_HOME环境变量在Mac OS X中设置的问题</a> - 19,890 views</li><li><a href="http://www.micmiu.com/lang/nodejs/mac-osx-nodejs-install/" title="在Mac OS X下安装和卸载Node.js的方法">在Mac OS X下安装和卸载Node.js的方法</a> - 19,885 views</li></ul>
</div><div id="mycategoryorder-3" class="widget widget_mycategoryorder"><h3 class="widgettitle">分类目录</h3>
		<ul>

			<li class="cat-item cat-item-249"><a href="http://www.micmiu.com/category/j2ee/" title="J2EE相关的技术">J2EE</a> (42)
<ul class="children">
	<li class="cat-item cat-item-19"><a href="http://www.micmiu.com/category/j2ee/hibernate/">Hibernate</a> (12)
</li>
	<li class="cat-item cat-item-21"><a href="http://www.micmiu.com/category/j2ee/struts/" title="Struts1.x 2.x">Struts</a> (5)
</li>
	<li class="cat-item cat-item-27"><a href="http://www.micmiu.com/category/j2ee/spring/" title="Spring framework">Spring</a> (11)
</li>
	<li class="cat-item cat-item-253"><a href="http://www.micmiu.com/category/j2ee/jdbc-tech/" title="JDBC相关介绍">JDBC</a> (6)
</li>
	<li class="cat-item cat-item-169"><a href="http://www.micmiu.com/category/j2ee/jta/" title="JTA">JTA</a> (3)
</li>
	<li class="cat-item cat-item-314"><a href="http://www.micmiu.com/category/j2ee/ejb/" title="EJB">EJB</a> (4)
</li>
	<li class="cat-item cat-item-345"><a href="http://www.micmiu.com/category/j2ee/framework/">framework</a> (1)
</li>
</ul>
</li>
	<li class="cat-item cat-item-331"><a href="http://www.micmiu.com/category/bigdata/" title="海量数据">海量数据</a> (36)
<ul class="children">
	<li class="cat-item cat-item-332"><a href="http://www.micmiu.com/category/bigdata/hadoop/" title="Hadoop">Hadoop</a> (17)
</li>
	<li class="cat-item cat-item-327"><a href="http://www.micmiu.com/category/bigdata/hive/" title="Hive">Hive</a> (8)
</li>
	<li class="cat-item cat-item-330"><a href="http://www.micmiu.com/category/bigdata/hbase/" title="HBase">HBase</a> (7)
</li>
	<li class="cat-item cat-item-333"><a href="http://www.micmiu.com/category/bigdata/spark/" title="spark">Spark</a> (2)
</li>
	<li class="cat-item cat-item-336"><a href="http://www.micmiu.com/category/bigdata/sqoop/">Sqoop</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-350"><a href="http://www.micmiu.com/category/ops/" title="运维工具介绍">运维</a> (1)
<ul class="children">
	<li class="cat-item cat-item-351"><a href="http://www.micmiu.com/category/ops/ansible/">ansible</a> (1)
</li>
</ul>
</li>
	<li class="cat-item cat-item-250"><a href="http://www.micmiu.com/category/soa/" title="SOA、Webservice、RPC、RMI、REST等等">SOA</a> (14)
<ul class="children">
	<li class="cat-item cat-item-37"><a href="http://www.micmiu.com/category/soa/webservice/" title="webservice">webservice</a> (12)
</li>
	<li class="cat-item cat-item-188"><a href="http://www.micmiu.com/category/soa/rpc/" title="remote procedure call">RPC</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-5"><a href="http://www.micmiu.com/category/opensource/" title="开源技术">OpenSource</a> (33)
<ul class="children">
	<li class="cat-item cat-item-54"><a href="http://www.micmiu.com/category/opensource/ofc/" title="openflashchart">openflashchart</a> (2)
</li>
	<li class="cat-item cat-item-274"><a href="http://www.micmiu.com/category/opensource/expdoc/" title="生成PDF、Word、Excel等文档">生成文档</a> (5)
</li>
	<li class="cat-item cat-item-288"><a href="http://www.micmiu.com/category/opensource/openfire/" title="Openfire">Openfire</a> (4)
</li>
	<li class="cat-item cat-item-291"><a href="http://www.micmiu.com/category/opensource/security/" title="安全权限相关">Security</a> (1)
</li>
	<li class="cat-item cat-item-318"><a href="http://www.micmiu.com/category/opensource/corba/" title="CORBA、IDL、OpenORB、JacORB">CORBA</a> (4)
</li>
	<li class="cat-item cat-item-348"><a href="http://www.micmiu.com/category/opensource/nutch/">Nutch</a> (6)
</li>
</ul>
</li>
	<li class="cat-item cat-item-4"><a href="http://www.micmiu.com/category/architecture/" title="软件架构">架构设计</a> (1)
<ul class="children">
	<li class="cat-item cat-item-215"><a href="http://www.micmiu.com/category/architecture/cache/" title="缓存">缓存</a> (1)
</li>
</ul>
</li>
	<li class="cat-item cat-item-62"><a href="http://www.micmiu.com/category/enterprise-app/" title="企业应用">企业应用</a> (24)
<ul class="children">
	<li class="cat-item cat-item-94"><a href="http://www.micmiu.com/category/enterprise-app/snmp/" title="SNMP">SNMP</a> (8)
</li>
	<li class="cat-item cat-item-225"><a href="http://www.micmiu.com/category/enterprise-app/sso/">SSO</a> (4)
</li>
	<li class="cat-item cat-item-254"><a href="http://www.micmiu.com/category/enterprise-app/server/" title="Apache Http、nginx、tomcat等企业应用软件">服务器软件</a> (10)
</li>
</ul>
</li>
	<li class="cat-item cat-item-20"><a href="http://www.micmiu.com/category/lang/">编程语言</a> (37)
<ul class="children">
	<li class="cat-item cat-item-3"><a href="http://www.micmiu.com/category/lang/java/" title="java应用">Java</a> (25)
</li>
	<li class="cat-item cat-item-43"><a href="http://www.micmiu.com/category/lang/javascript/" title="javascript">javascript</a> (5)
</li>
	<li class="cat-item cat-item-266"><a href="http://www.micmiu.com/category/lang/groovy/" title="Groovy">Groovy</a> (4)
</li>
	<li class="cat-item cat-item-311"><a href="http://www.micmiu.com/category/lang/nodejs/" title="nodejs">nodejs</a> (1)
</li>
	<li class="cat-item cat-item-346"><a href="http://www.micmiu.com/category/lang/go/">Go</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-7"><a href="http://www.micmiu.com/category/nosql/" title="nosql">NoSQL</a> (12)
<ul class="children">
	<li class="cat-item cat-item-267"><a href="http://www.micmiu.com/category/nosql/berkeley/" title="Berkeley DB">Berkeley</a> (6)
</li>
</ul>
</li>
	<li class="cat-item cat-item-6"><a href="http://www.micmiu.com/category/db/" title="数据库">数据库</a> (10)
<ul class="children">
	<li class="cat-item cat-item-18"><a href="http://www.micmiu.com/category/db/oracle-db/" title="Oracle">Oracle</a> (7)
</li>
	<li class="cat-item cat-item-108"><a href="http://www.micmiu.com/category/db/mysql/" title="mysql">mysql</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-44"><a href="http://www.micmiu.com/category/android/" title="Android">Android</a> (4)
</li>
	<li class="cat-item cat-item-79"><a href="http://www.micmiu.com/category/web/" title="web前端相关">web UI</a> (1)
</li>
	<li class="cat-item cat-item-33"><a href="http://www.micmiu.com/category/software/" title="开发、测试、编译、构建、调试等等工具介绍">软件工具</a> (30)
<ul class="children">
	<li class="cat-item cat-item-325"><a href="http://www.micmiu.com/category/software/common/" title="日常软件工具的技巧">常用软件</a> (13)
</li>
	<li class="cat-item cat-item-203"><a href="http://www.micmiu.com/category/software/build/" title="构建管理工具">项目构建</a> (15)
</li>
	<li class="cat-item cat-item-69"><a href="http://www.micmiu.com/category/software/test/" title="性能、压力等测试工具">测试工具</a> (2)
</li>
</ul>
</li>
	<li class="cat-item cat-item-15"><a href="http://www.micmiu.com/category/os/" title="操作系统">操作系统</a> (26)
<ul class="children">
	<li class="cat-item cat-item-17"><a href="http://www.micmiu.com/category/os/linux/" title="linux">linux</a> (19)
</li>
	<li class="cat-item cat-item-233"><a href="http://www.micmiu.com/category/os/windows/" title="windows">windows</a> (2)
</li>
	<li class="cat-item cat-item-295"><a href="http://www.micmiu.com/category/os/mac/" title="Mac OSX">Mac</a> (5)
</li>
</ul>
</li>
	<li class="cat-item cat-item-9"><a href="http://www.micmiu.com/category/hazel-wu/" title="小小的生活">小小</a> (9)
<ul class="children">
	<li class="cat-item cat-item-10"><a href="http://www.micmiu.com/category/hazel-wu/feeling/" title="心情">心底软绵绵</a> (3)
</li>
	<li class="cat-item cat-item-11"><a href="http://www.micmiu.com/category/hazel-wu/life/" title="小日子、时间静悄悄">时间静悄悄</a> (6)
</li>
</ul>
</li>
	<li class="cat-item cat-item-74"><a href="http://www.micmiu.com/category/exception/" title="Exception">异常处理</a> (23)
</li>
	<li class="cat-item cat-item-14"><a href="http://www.micmiu.com/category/techother/" title="技术杂谈">杂谈</a> (2)
</li>

		</ul>

		</div><div id="archives-5" class="widget widget_archive"><h3 class="widgettitle">文章归档</h3>		<select name="archive-dropdown" onchange="document.location.href=this.options[this.selectedIndex].value;">
			<option value="">选择月份</option>

				<option value="http://www.micmiu.com/2015/08/"> 2015年八月 &nbsp;(1)</option>
	<option value="http://www.micmiu.com/2015/03/"> 2015年三月 &nbsp;(5)</option>
	<option value="http://www.micmiu.com/2015/02/"> 2015年二月 &nbsp;(3)</option>
	<option value="http://www.micmiu.com/2015/01/"> 2015年一月 &nbsp;(12)</option>
	<option value="http://www.micmiu.com/2014/12/"> 2014年十二月 &nbsp;(4)</option>
	<option value="http://www.micmiu.com/2014/11/"> 2014年十一月 &nbsp;(3)</option>
	<option value="http://www.micmiu.com/2014/07/"> 2014年七月 &nbsp;(1)</option>
	<option value="http://www.micmiu.com/2014/05/"> 2014年五月 &nbsp;(1)</option>
	<option value="http://www.micmiu.com/2014/04/"> 2014年四月 &nbsp;(12)</option>
	<option value="http://www.micmiu.com/2014/03/"> 2014年三月 &nbsp;(4)</option>
	<option value="http://www.micmiu.com/2014/02/"> 2014年二月 &nbsp;(6)</option>
	<option value="http://www.micmiu.com/2014/01/"> 2014年一月 &nbsp;(8)</option>
	<option value="http://www.micmiu.com/2013/12/"> 2013年十二月 &nbsp;(1)</option>
	<option value="http://www.micmiu.com/2013/10/"> 2013年十月 &nbsp;(9)</option>
	<option value="http://www.micmiu.com/2013/09/"> 2013年九月 &nbsp;(7)</option>
	<option value="http://www.micmiu.com/2013/08/"> 2013年八月 &nbsp;(8)</option>
	<option value="http://www.micmiu.com/2013/06/"> 2013年六月 &nbsp;(4)</option>
	<option value="http://www.micmiu.com/2013/05/"> 2013年五月 &nbsp;(4)</option>
	<option value="http://www.micmiu.com/2013/04/"> 2013年四月 &nbsp;(3)</option>
	<option value="http://www.micmiu.com/2013/03/"> 2013年三月 &nbsp;(10)</option>
	<option value="http://www.micmiu.com/2013/02/"> 2013年二月 &nbsp;(1)</option>
	<option value="http://www.micmiu.com/2013/01/"> 2013年一月 &nbsp;(2)</option>
	<option value="http://www.micmiu.com/2012/12/"> 2012年十二月 &nbsp;(1)</option>
	<option value="http://www.micmiu.com/2012/11/"> 2012年十一月 &nbsp;(7)</option>
	<option value="http://www.micmiu.com/2012/10/"> 2012年十月 &nbsp;(2)</option>
	<option value="http://www.micmiu.com/2012/09/"> 2012年九月 &nbsp;(4)</option>
	<option value="http://www.micmiu.com/2012/08/"> 2012年八月 &nbsp;(13)</option>
	<option value="http://www.micmiu.com/2012/07/"> 2012年七月 &nbsp;(14)</option>
	<option value="http://www.micmiu.com/2012/06/"> 2012年六月 &nbsp;(12)</option>
	<option value="http://www.micmiu.com/2012/05/"> 2012年五月 &nbsp;(15)</option>
	<option value="http://www.micmiu.com/2012/04/"> 2012年四月 &nbsp;(20)</option>
	<option value="http://www.micmiu.com/2012/03/"> 2012年三月 &nbsp;(22)</option>
	<option value="http://www.micmiu.com/2012/02/"> 2012年二月 &nbsp;(86)</option>
		</select>
</div>
	        <div id="wp-cumulus" class="widget wp_cumulus_widget">
			
				<h3 class="widgettitle">标签云(3D)</h3>
			
			<!-- SWFObject embed by Geoff Stearns geoff@deconcept.com http://blog.deconcept.com/swfobject/ --><script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/swfobject.js.下载"></script><div id="wpcumuluswidgetcontent1813785"><embed type="application/x-shockwave-flash" src="http://www.micmiu.com/wp-content/plugins/wp-cumulus/tagcloud.swf?r=9566752" width="300" height="300" id="tagcloudflash" name="tagcloudflash" bgcolor="#ffffff" quality="high" wmode="transparent" allowscriptaccess="always" flashvars="tcolor=0xFF6601&amp;tcolor2=0x0299FF&amp;hicolor=0x81CCFF&amp;tspeed=100&amp;distr=true&amp;mode=tags&amp;tagcloud=%3Ctags%3E%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fandroid%2F%27+class%3D%27tag-link-44%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EAndroid%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fapache%2F%27+class%3D%27tag-link-117%27+title%3D%277%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+12.3298969072pt%3B%27%3Eapache%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fatomikos%2F%27+class%3D%27tag-link-167%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EATOMIKOS%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fberkeley%2F%27+class%3D%27tag-link-267%27+title%3D%276%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+11.6082474227pt%3B%27%3EBerkeley%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fcorba%2F%27+class%3D%27tag-link-318%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3ECORBA%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Feclipse%2F%27+class%3D%27tag-link-39%27+title%3D%2712%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+15.3608247423pt%3B%27%3Eeclipse%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fgroovy%2F%27+class%3D%27tag-link-266%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EGroovy%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fha%2F%27+class%3D%27tag-link-174%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3EHA%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fhadoopv1%2F%27+class%3D%27tag-link-179%27+title%3D%2718%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+17.8144329897pt%3B%27%3EHadoop%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fhbase%2F%27+class%3D%27tag-link-330%27+title%3D%2711%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+14.9278350515pt%3B%27%3EHBase%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fhibernate-2%2F%27+class%3D%27tag-link-24%27+title%3D%2713%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+15.9381443299pt%3B%27%3Ehibernate%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fhive%2F%27+class%3D%27tag-link-327%27+title%3D%277%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+12.3298969072pt%3B%27%3EHive%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fitext%2F%27+class%3D%27tag-link-275%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3EiText%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjava-2%2F%27+class%3D%27tag-link-29%27+title%3D%2736%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+22pt%3B%27%3Ejava%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjavascript%2F%27+class%3D%27tag-link-43%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Ejavascript%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjdbc%2F%27+class%3D%27tag-link-170%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Ejdbc%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjdk%2F%27+class%3D%27tag-link-52%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3Ejdk%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fje%2F%27+class%3D%27tag-link-268%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3EJE%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjrobin%2F%27+class%3D%27tag-link-95%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3EJRobin%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjta%2F%27+class%3D%27tag-link-169%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EJTA%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Flb%2F%27+class%3D%27tag-link-175%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3ELB%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Flinux%2F%27+class%3D%27tag-link-17%27+title%3D%277%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+12.3298969072pt%3B%27%3Elinux%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fmac-2%2F%27+class%3D%27tag-link-296%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3Emac%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fmaven%2F%27+class%3D%27tag-link-204%27+title%3D%2713%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+15.9381443299pt%3B%27%3EMaven%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fmysql%2F%27+class%3D%27tag-link-108%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Emysql%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fnginx%2F%27+class%3D%27tag-link-185%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Enginx%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fnutch-2%2F%27+class%3D%27tag-link-349%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3Enutch%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fopenfire-2%2F%27+class%3D%27tag-link-289%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Eopenfire%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Foracle%2F%27+class%3D%27tag-link-16%27+title%3D%276%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+11.6082474227pt%3B%27%3Eoracle%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fosx%2F%27+class%3D%27tag-link-297%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Eosx%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fpdf%2F%27+class%3D%27tag-link-276%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EPDF%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fsnmp%2F%27+class%3D%27tag-link-94%27+title%3D%276%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+11.6082474227pt%3B%27%3ESNMP%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fsnmp4j%2F%27+class%3D%27tag-link-136%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3Esnmp4j%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fspring-2%2F%27+class%3D%27tag-link-28%27+title%3D%279%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+13.7731958763pt%3B%27%3Espring%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fspringmvc%2F%27+class%3D%27tag-link-282%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3EspringMVC%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fstruts%2F%27+class%3D%27tag-link-21%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3EStruts%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fstruts2%2F%27+class%3D%27tag-link-270%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EStruts2%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fsvn%2F%27+class%3D%27tag-link-104%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Esvn%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Ftokyotyrant%2F%27+class%3D%27tag-link-111%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Etokyotyrant%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Ftomcat%2F%27+class%3D%27tag-link-120%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Etomcat%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fttserver%2F%27+class%3D%27tag-link-110%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Ettserver%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fubuntu%2F%27+class%3D%27tag-link-125%27+title%3D%277%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+12.3298969072pt%3B%27%3Eubuntu%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fwebservice%2F%27+class%3D%27tag-link-37%27+title%3D%2710%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+14.3505154639pt%3B%27%3Ewebservice%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fxfire%2F%27+class%3D%27tag-link-38%27+title%3D%278%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+13.0515463918pt%3B%27%3Exfire%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fxml%2F%27+class%3D%27tag-link-200%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3EXML%3C%2Fa%3E%3C%2Ftags%3E"></div><script type="text/javascript">var widget_so7552768 = new SWFObject("http://www.micmiu.com/wp-content/plugins/wp-cumulus/tagcloud.swf?r=9566752", "tagcloudflash", "300", "300", "9", "#ffffff");widget_so7552768.addParam("wmode", "transparent");widget_so7552768.addParam("allowScriptAccess", "always");widget_so7552768.addVariable("tcolor", "0xFF6601");widget_so7552768.addVariable("tcolor2", "0x0299FF");widget_so7552768.addVariable("hicolor", "0x81CCFF");widget_so7552768.addVariable("tspeed", "100");widget_so7552768.addVariable("distr", "true");widget_so7552768.addVariable("mode", "tags");widget_so7552768.addVariable("tagcloud", "%3Ctags%3E%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fandroid%2F%27+class%3D%27tag-link-44%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EAndroid%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fapache%2F%27+class%3D%27tag-link-117%27+title%3D%277%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+12.3298969072pt%3B%27%3Eapache%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fatomikos%2F%27+class%3D%27tag-link-167%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EATOMIKOS%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fberkeley%2F%27+class%3D%27tag-link-267%27+title%3D%276%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+11.6082474227pt%3B%27%3EBerkeley%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fcorba%2F%27+class%3D%27tag-link-318%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3ECORBA%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Feclipse%2F%27+class%3D%27tag-link-39%27+title%3D%2712%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+15.3608247423pt%3B%27%3Eeclipse%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fgroovy%2F%27+class%3D%27tag-link-266%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EGroovy%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fha%2F%27+class%3D%27tag-link-174%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3EHA%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fhadoopv1%2F%27+class%3D%27tag-link-179%27+title%3D%2718%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+17.8144329897pt%3B%27%3EHadoop%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fhbase%2F%27+class%3D%27tag-link-330%27+title%3D%2711%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+14.9278350515pt%3B%27%3EHBase%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fhibernate-2%2F%27+class%3D%27tag-link-24%27+title%3D%2713%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+15.9381443299pt%3B%27%3Ehibernate%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fhive%2F%27+class%3D%27tag-link-327%27+title%3D%277%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+12.3298969072pt%3B%27%3EHive%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fitext%2F%27+class%3D%27tag-link-275%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3EiText%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjava-2%2F%27+class%3D%27tag-link-29%27+title%3D%2736%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+22pt%3B%27%3Ejava%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjavascript%2F%27+class%3D%27tag-link-43%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Ejavascript%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjdbc%2F%27+class%3D%27tag-link-170%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Ejdbc%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjdk%2F%27+class%3D%27tag-link-52%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3Ejdk%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fje%2F%27+class%3D%27tag-link-268%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3EJE%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjrobin%2F%27+class%3D%27tag-link-95%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3EJRobin%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fjta%2F%27+class%3D%27tag-link-169%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EJTA%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Flb%2F%27+class%3D%27tag-link-175%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3ELB%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Flinux%2F%27+class%3D%27tag-link-17%27+title%3D%277%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+12.3298969072pt%3B%27%3Elinux%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fmac-2%2F%27+class%3D%27tag-link-296%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3Emac%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fmaven%2F%27+class%3D%27tag-link-204%27+title%3D%2713%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+15.9381443299pt%3B%27%3EMaven%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fmysql%2F%27+class%3D%27tag-link-108%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Emysql%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fnginx%2F%27+class%3D%27tag-link-185%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Enginx%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fnutch-2%2F%27+class%3D%27tag-link-349%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3Enutch%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fopenfire-2%2F%27+class%3D%27tag-link-289%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Eopenfire%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Foracle%2F%27+class%3D%27tag-link-16%27+title%3D%276%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+11.6082474227pt%3B%27%3Eoracle%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fosx%2F%27+class%3D%27tag-link-297%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Eosx%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fpdf%2F%27+class%3D%27tag-link-276%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EPDF%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fsnmp%2F%27+class%3D%27tag-link-94%27+title%3D%276%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+11.6082474227pt%3B%27%3ESNMP%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fsnmp4j%2F%27+class%3D%27tag-link-136%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3Esnmp4j%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fspring-2%2F%27+class%3D%27tag-link-28%27+title%3D%279%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+13.7731958763pt%3B%27%3Espring%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fspringmvc%2F%27+class%3D%27tag-link-282%27+title%3D%275%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+10.5979381443pt%3B%27%3EspringMVC%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fstruts%2F%27+class%3D%27tag-link-21%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3EStruts%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fstruts2%2F%27+class%3D%27tag-link-270%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3EStruts2%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fsvn%2F%27+class%3D%27tag-link-104%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Esvn%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Ftokyotyrant%2F%27+class%3D%27tag-link-111%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Etokyotyrant%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Ftomcat%2F%27+class%3D%27tag-link-120%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3Etomcat%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fttserver%2F%27+class%3D%27tag-link-110%27+title%3D%274%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+9.44329896907pt%3B%27%3Ettserver%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fubuntu%2F%27+class%3D%27tag-link-125%27+title%3D%277%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+12.3298969072pt%3B%27%3Eubuntu%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fwebservice%2F%27+class%3D%27tag-link-37%27+title%3D%2710%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+14.3505154639pt%3B%27%3Ewebservice%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fxfire%2F%27+class%3D%27tag-link-38%27+title%3D%278%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+13.0515463918pt%3B%27%3Exfire%3C%2Fa%3E%0A%3Ca+href%3D%27http%3A%2F%2Fwww.micmiu.com%2Ftag%2Fxml%2F%27+class%3D%27tag-link-200%27+title%3D%273%E4%B8%AA%E8%AF%9D%E9%A2%98%27+style%3D%27font-size%3A+8pt%3B%27%3EXML%3C%2Fa%3E%3C%2Ftags%3E");widget_so7552768.write("wpcumuluswidgetcontent1813785");</script>
	        </div>
		
<div id="linkcat-2" class="widget widget_links"><h3 class="widgettitle">技术链接</h3>
	<ul class="xoxo blogroll">
<li><a href="http://sjsky.iteye.com/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget&#39;, &#39;http://sjsky.iteye.com&#39;, &#39;10→me@iteye&#39;]);" rel="me" title="我的ITEye博客" target="_blank">10→me@iteye</a></li>
<li><a href="http://blog.nosqlfan.com/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget&#39;, &#39;http://blog.nosqlfan.com/&#39;, &#39;21→nosqlfan&#39;]);" target="_blank">21→nosqlfan</a></li>
<li><a href="http://www.mysqlops.com/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget&#39;, &#39;http://www.mysqlops.com&#39;, &#39;22→mysqlops&#39;]);" target="_blank">22→mysqlops</a></li>
<li><a href="https://code.google.com/p/opencloudb/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget&#39;, &#39;https://code.google.com/p/opencloudb/&#39;, &#39;23→OpenCloudDB&#39;]);" target="_blank">23→OpenCloudDB</a></li>
<li><a href="http://crazyjvm.iteye.com/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget&#39;, &#39;http://crazyjvm.iteye.com&#39;, &#39;31→CrazyJvm&#39;]);" target="_blank">31→CrazyJvm</a></li>
<li><a href="http://fengshenwu.com/blog/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget&#39;, &#39;http://fengshenwu.com/blog/&#39;, &#39;32→封神无度&#39;]);" target="_blank">32→封神无度</a></li>
<li><a href="http://dongxicheng.org/" onclick="_gaq.push([&#39;_trackEvent&#39;, &#39;outbound-widget&#39;, &#39;http://dongxicheng.org/&#39;, &#39;33→董的博客&#39;]);" target="_blank">33→董的博客</a></li>

	</ul>
</div>
<div id="meta-5" class="widget widget_meta"><h3 class="widgettitle">功能</h3>			<ul>
						<li><a href="http://www.micmiu.com/wp-login.php">登录</a></li>
			<li><a href="http://www.micmiu.com/feed/">文章<abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://www.micmiu.com/comments/feed/">评论<abbr title="Really Simple Syndication">RSS</abbr></a></li>
<li><a href="https://cn.wordpress.org/" title="基于WordPress，一个优美、先进的个人信息发布平台。">WordPress.org</a></li>			</ul>
</div>
	</div><!-- end: #sidebar -->
</div><!-- end: #sidebar-border --></div><!--wrapper-->
<div class="clear"></div>
<div id="footer">
	<div id="footer-inside">
		<p>
			版权所有 © 2016 micmiu –  软件开发+生活点滴			| 站点由 <a href="http://zww.me/">zBench</a> 和 <a href="http://wordpress.org/">WordPress</a> 驱动			|统计:
	<script src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/stat.php" language="JavaScript"></script><script src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/core.php" charset="utf-8" type="text/javascript"></script><a href="http://www.cnzz.com/stat/website.php?web_id=4591580" target="_blank" title="站长统计"><img border="0" hspace="0" vspace="0" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/pic1.gif"></a>#
 	<script type="text/javascript">
	var _bdhmProtocol = (("https:" == 	document.location.protocol) ? " https://" : " http://");
	document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F10fd5667f792502fd59e3832b6f54087' type='text/javascript'%3E%3C/script%3E"));
	</script><script src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/h.js.下载" type="text/javascript"></script><a href="http://tongji.baidu.com/hm-web/welcome/ico?s=10fd5667f792502fd59e3832b6f54087" target="_blank"><img border="0" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/21.gif" width="20" height="20"></a>
		</p>
		<span id="back-to-top">↑ <a href="http://www.micmiu.com/soa/rpc/thrift-sample/#" rel="nofollow" title="Back to top">回到顶部</a></span>
	</div>
</div><!--footer-->
<script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/form.js.下载"></script>
<script type="text/javascript">
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/www.micmiu.com\/wp-admin\/admin-ajax.php","post_id":"701"};
/* ]]> */
</script>
<script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/postviews-cache.js.下载"></script>
<script type="text/javascript" src="./Thrift入门及Java实例演示 _ micmiu - 软件开发+生活点滴_files/comment-reply.min.js.下载"></script>


<!-- Dynamic page generated in 1.363 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-12-21 16:36:12 -->

<!-- super cache --></body></html>